(()=>{var e={};e.id=5074,e.ids=[5074],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},79646:e=>{"use strict";e.exports=require("child_process")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},91645:e=>{"use strict";e.exports=require("net")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},68061:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var a=s(70260),n=s(28203),i=s(25155),l=s.n(i),r=s(67292),o={};for(let e in r)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>r[e]);s.d(t,o);let c=["",{children:["[lang]",{children:["auctions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,78221)),"C:\\Users\\hp\\source\\repos\\auction\\biddo_web\\src\\app\\[lang]\\auctions\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,38806)),"C:\\Users\\hp\\source\\repos\\auction\\biddo_web\\src\\app\\[lang]\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,41189)),"C:\\Users\\hp\\source\\repos\\auction\\biddo_web\\src\\app\\[lang]\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,71354)),"C:\\Users\\hp\\source\\repos\\auction\\biddo_web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\hp\\source\\repos\\auction\\biddo_web\\src\\app\\[lang]\\auctions\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/[lang]/auctions/page",pathname:"/[lang]/auctions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},38268:(e,t,s)=>{Promise.resolve().then(s.bind(s,65676)),Promise.resolve().then(s.bind(s,89954)),Promise.resolve().then(s.bind(s,9988)),Promise.resolve().then(s.bind(s,38609)),Promise.resolve().then(s.bind(s,41705)),Promise.resolve().then(s.bind(s,25351)),Promise.resolve().then(s.bind(s,79324)),Promise.resolve().then(s.bind(s,12780))},96412:(e,t,s)=>{Promise.resolve().then(s.bind(s,84528)),Promise.resolve().then(s.bind(s,93208)),Promise.resolve().then(s.bind(s,47424)),Promise.resolve().then(s.bind(s,22093)),Promise.resolve().then(s.bind(s,59413)),Promise.resolve().then(s.bind(s,9570)),Promise.resolve().then(s.bind(s,92636)),Promise.resolve().then(s.bind(s,56008))},98813:(e,t,s)=>{"use strict";s.d(t,{f:()=>n});var a=s(45512);let n=(0,s(58009).memo)(e=>(0,a.jsx)("div",{className:"auctions-filter-count",children:(0,a.jsx)("span",{className:"secondary-color ",children:e.count})}));n.displayName="AuctionsCountSuffix"},78769:(e,t,s)=>{"use strict";s.d(t,{b:()=>p});var a=s(45512),n=s(35144),i=s(32885),l=s(45025),r=s(87704),o=s(91636),c=s(98813),d=s(9140),u=s(83150);let p=(0,d.PA)(e=>{let{withLabel:t=!0}=e,s=(0,o.A)(),d=s.currentLanguage,{t:p}=(0,n.B)(d),m=s.appCategories.map(e=>({id:e.id,option:e.name[d],icon:(0,a.jsx)(i.E,{category:e}),sufix:(0,a.jsx)(c.f,{count:e.auctionsCount??0})}));m.unshift({id:"all",option:p("home.categories.all"),icon:(0,a.jsx)(r.I,{type:"logo"}),sufix:(0,a.jsx)(c.f,{count:u.t.activeAuctionsCount||e.allAuctionsCount})});let g=m.findIndex(t=>t.id===e.defaultSelected?.id);return(0,a.jsxs)("div",{className:"w-100",children:[t&&(0,a.jsx)("span",{className:"secondary-color",children:p("info.main_category")}),(0,a.jsx)(l.h,{withSearch:!0,options:m,defaultCurrent:-1!==g?g:0,onChange:t=>{let a=s.appCategories.find(e=>e.id===t.id);e.handleChange(a)},name:"main-category-filter",className:`w-100  ${t?"mt-1":""}`,customStyle:e.customStyle})]})})},84528:(e,t,s)=>{"use strict";s.d(t,{AllAuctionsListRoot:()=>T});var a=s(45512),n=s(1928),i=s(37006),l=s(58009),r=s(91636),o=s(35144),c=s(79334),d=s(22112);let u=(e,t)=>e.filter(e=>Object.keys(e.name).some(s=>t.includes(e.name[s]))).map(e=>e.id),p=(e,t,s)=>e.filter(e=>e.subcategories?.some(e=>t.includes(e.name[s]))).map(e=>e.subcategories?.filter(e=>t.includes(e.name[s])).map(e=>e.id)).flat(),m=(e,t)=>e.filter(e=>t.includes(e.name)).map(e=>e.id),g=e=>{let t=new URLSearchParams(window.location.search);return t.set("page","1"),Object.keys(e).forEach(s=>{let{value:a,replace:n,deleteValue:i}=e[s],l=t.get(s);if(i){t.delete(s);return}if(!l){t.set(s,a);return}if(n){if(!a){t.delete(s);return}t.set(s,a);return}let r=l.split("_");if(r.includes(encodeURIComponent(a))||r.includes(a)){let e=r.filter(e=>e!==encodeURIComponent(a)&&e!==a);if(0===e.length){t.delete(s);return}t.set(s,e.join("_"));return}r.push(a),t.set(s,r.join("_"))}),t.toString()},x=(e,t,s,a)=>{let n={selectedCategory:"all",selectedSubCategories:[],selectedLocations:[],page:1,sort:0},i=e.get("cat"),l=e.get("sub"),r=e.get("loc"),o=e.get("min")??"",c=e.get("max")??"",u=e.get("page")??"1",p=e.get("sort")??"0";if(i&&(n.selectedCategory=i),l){let e=l.split("_").map(e=>decodeURIComponent(e)),s=t.reduce((t,s)=>{let n=(s.subcategories??[]).filter(t=>e.includes(t.name[a]));return t.push(...n),t},[]);n.selectedSubCategories=s.map(e=>e.name[a])}if(r){let e=r.split("_").map(e=>decodeURIComponent(e)),t=s.filter(t=>e.includes(t.name));n.selectedLocations=t.map(e=>e.name)}if(o)try{n.minPrice=parseInt(o)}catch(e){console.error(`Failed to parse min price: ${e}`)}if(c)try{n.maxPrice=parseInt(c)}catch(e){console.error(`Failed to parse max price: ${e}`)}try{n.sort=parseInt(p)}catch(e){console.error(`Failed to parse sort: ${e}`),n.sort=d.O.newest}try{n.page=parseInt(u)}catch(e){console.error(`Failed to parse current page: ${e}`),n.page=1}return n};var h=s(17928),f=s(72413),b=s(81883),j=s(61128),v=s.n(j),y=s(71281),C=s.n(y),N=s(87704),w=s(89430),P=s(78769),k=s(63),S=s.n(k),A=s(24655),_=s(74659),L=s.n(_);let E=({options:e,initialSelected:t,allowAll:s,placeholder:n,allSelectedByDefault:i,allOptionSufix:c,searchPlaceholder:d,className:u,withSearch:p,onChange:m,name:g})=>{let x=(0,r.A)().currentLanguage,{t:h}=(0,o.B)(x),f={id:"all",option:h("home.categories.all")},b=()=>!t?.length&&i?[f]:e.filter(e=>(t??[]).includes(e.option)),[j,v]=(0,l.useState)(!1),[y,C]=(0,l.useState)(b()),w=(0,l.useCallback)(()=>{v(!1)},[]),[P,k]=(0,l.useState)(i??!1),[_,E]=(0,l.useState)(""),[q,I]=(0,l.useState)(e);(0,l.useEffect)(()=>{C(b())},[e]),(0,l.useEffect)(()=>{I(e)},[e]),(0,l.useEffect)(()=>{_?I(e.filter(e=>L()(e.option)?.toLowerCase()?.includes(L()(_)?.toLowerCase()))):I(e)},[_]);let R=(0,l.useRef)(null);(0,A.A)(R,w);let F=e=>{if(e.option===f.option){C([f]),k(!0),m(e,g),E("");return}k(!1);let t=y.find(t=>t.option===e.option),s=[];C((s=t?y.filter(t=>t.option!==f.option&&t.option!==e.option):[...y,e].filter(e=>e.option!==f.option)).length?s:[f]),s.length||k(!0),m(e,g),E("")},$=e=>{e.stopPropagation()};return(0,a.jsxs)("div",{role:"button",tabIndex:0,onClick:()=>{v(e=>!e)},onKeyDown:e=>{"Enter"===e.key&&v(e=>!e)},ref:R,className:`jsx-625678c3927b23d1 nice-select ${u||""} ${j?"open":""}`,children:[(0,a.jsx)("div",{className:"jsx-625678c3927b23d1 current d-flex align-items-center",children:(0,a.jsx)("span",{className:"jsx-625678c3927b23d1 selected-value-text",children:y?.map(e=>e.option).join(", ")||n})}),(0,a.jsxs)("ul",{role:"menubar",onClick:$,onKeyDown:$,onKeyUp:$,className:"jsx-625678c3927b23d1 list",children:[p&&(0,a.jsxs)("div",{className:"jsx-625678c3927b23d1 w-100 p-16",children:[(0,a.jsxs)("div",{className:"jsx-625678c3927b23d1 pos-rel",children:[(0,a.jsx)("input",{placeholder:d??"Search...",value:_,onChange:e=>E(e.target.value),className:"jsx-625678c3927b23d1 w-100 nice-select-search-input"}),_.length?(0,a.jsx)("div",{onClick:()=>{E("")},className:"jsx-625678c3927b23d1 clear-search-icon",children:(0,a.jsx)(N.I,{type:"generic/close-filled",size:18})}):null]}),!!_.length&&!s&&!!e.length&&!q.length&&(0,a.jsx)("div",{className:"jsx-625678c3927b23d1 pt-1 d-flex align-items-center justify-content-center",children:h("home.filter.no_data_found")})]}),s&&(0,a.jsx)("li",{role:"menuitem",onClick:()=>{F(f)},onKeyPress:e=>{$(e)},className:"jsx-625678c3927b23d1 option d-flex align-items-center ",children:(0,a.jsxs)("div",{className:"jsx-625678c3927b23d1 w-100 d-flex align-items-center justify-content-between gap-2",children:[(0,a.jsxs)("div",{className:"jsx-625678c3927b23d1 w-100 d-flex align-items-center justify-content-between gap-2",children:[(0,a.jsx)("span",{className:"jsx-625678c3927b23d1",children:f.option}),c]}),(0,a.jsx)("input",{type:"checkbox",onChange:()=>{F(f)},style:{marginBottom:4},checked:P,className:"jsx-625678c3927b23d1"})]})}),q?.map(e=>a.jsx("li",{"data-value":e.id,role:"menuitem",onClick:()=>F(e),onKeyPress:e=>{$(e)},className:"jsx-625678c3927b23d1"+" option d-flex align-items-center ",children:a.jsxs("div",{className:"jsx-625678c3927b23d1"+" w-100 d-flex align-items-center justify-content-between gap-2",children:[a.jsxs("div",{className:"jsx-625678c3927b23d1"+" w-100 d-flex align-content-center justify-content-between option-title-root gap-2",children:[a.jsxs("div",{className:"jsx-625678c3927b23d1"+" d-flex align-items-center option-title-root gap-2",children:[e.icon,a.jsx("span",{className:"jsx-625678c3927b23d1"+" option-title",children:e.option})]}),e.sufix]}),a.jsx("input",{type:"checkbox",onChange:()=>{F(e)},style:{marginBottom:4},checked:!!y.find(t=>t.option===e.option),className:"jsx-625678c3927b23d1"})]})},e.id))]}),(0,a.jsx)(S(),{id:"625678c3927b23d1",children:".clear-search-icon.jsx-625678c3927b23d1{position:absolute;right:16px;top:50%;-webkit-transform:translatey(-50%);-moz-transform:translatey(-50%);-ms-transform:translatey(-50%);-o-transform:translatey(-50%);transform:translatey(-50%);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}"})]})},q=(0,l.memo)(e=>{let t=(0,r.A)().currentLanguage,{t:s}=(0,o.B)(t),{locations:n,selectedLocations:i}=e,l=n.map(e=>({id:e.id,option:e.name}))??[];return(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"secondary-color",children:s("home.filter.locations")}),(0,a.jsx)(E,{withSearch:!0,options:l,allowAll:!0,allSelectedByDefault:!i?.length,initialSelected:i??[],onChange:t=>{let s=n?.find(e=>e.id===t.id);e.handleChange(s)},name:"locations-filter",className:"w-100 mt-1"})]})});q.displayName="AuctionsListLocations";let I=(0,l.memo)(e=>{let t=(0,r.A)().currentLanguage,{t:s}=(0,o.B)(t),[n,i]=(0,l.useState)(e.initialMinPrice),[c,d]=(0,l.useState)(e.initialMaxPrice),u=(0,l.useRef)(null),p=(0,l.useRef)(null);(0,l.useEffect)(()=>{!e.initialMinPrice&&u.current&&(u.current.value=""),i(e.initialMinPrice)},[e.initialMinPrice]),(0,l.useEffect)(()=>{!e.initialMaxPrice&&p.current&&(p.current.value=""),d(e.initialMaxPrice)},[e.initialMaxPrice]);let m=e=>{"Enter"===e.key&&e.currentTarget.blur()};return(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"secondary-color",children:s("home.filter.price")}),(0,a.jsxs)("div",{className:"d-flex gap-2 mt-1",children:[(0,a.jsx)("input",{ref:u,className:"w-100 custom-input",type:"number",placeholder:s("home.filter.min_price"),value:n,onKeyDown:m,onBlur:()=>{e.handleMinChange(n)},onChange:e=>{i(parseInt(e.target.value))}}),(0,a.jsx)("input",{ref:p,className:"w-100 custom-input",type:"number",placeholder:s("home.filter.max_price"),value:c,onKeyDown:m,onBlur:()=>{e.handleMaxChange(c)},onChange:e=>{d(parseInt(e.target.value))}})]})]})});I.displayName="AuctionsListPriceFilter";var R=s(98813),F=s(9140),$=s(83150);let M=(0,F.PA)(e=>{let t=(0,r.A)(),s=t.currentLanguage,{t:n}=(0,o.B)(s),{selectedSubCategories:i}=e,[,c]=(0,l.useState)(0);(0,l.useEffect)(()=>{c(e=>e+1)},[e.selectedSubCategories]);let d=()=>t.appCategories.find(t=>t.name[s]?.toLowerCase()===e.selectedCategory?.toLowerCase())??null,[u,p]=(0,l.useState)([]),m=()=>{let e=d();p(e?.subcategories?.map(e=>({id:e.id,option:e.name[s],sufix:a.jsx(R.f,{count:e.auctionsCount??0})}))??[])};(0,l.useEffect)(()=>{m()},[e.selectedCategory]);let g=d();return(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("span",{className:"secondary-color",children:n("info.sub_category")}),(0,a.jsx)(E,{withSearch:!0,options:u,allowAll:!0,allOptionSufix:(0,a.jsx)(R.f,{count:g?.auctionsCount??$.t.activeAuctionsCount??0}),allSelectedByDefault:!i?.length,initialSelected:i??[],onChange:t=>{let s=d(),a=s?.subcategories?.find(e=>e.id===t.id);e.handleChange(a)},name:"sub-categories-filter",className:"w-100 mt-1"},e.selectedCategory)]})}),B=e=>{var t;let{locations:s,activeFilters:n,setActiveFilters:i}=e,o=(0,r.A)(),d=o.currentLanguage,[,u]=(0,l.useState)(0);(0,l.useEffect)(()=>{u(e=>e+1)},[e.activeFilters]);let p=(0,c.useRouter)(),m=e=>{let t=g(e);p.push(`/auctions?${t}`,{scroll:!1})};return(0,a.jsxs)("div",{className:"p-1 d-flex w-100 gap-2 align-items-center justify-content-center auction-filters-root",children:[(0,a.jsx)("div",{className:"auctions-filter-item",children:(0,a.jsx)(P.b,{allAuctionsCount:e.allAuctionsCount,defaultSelected:(t=n.selectedCategory,Object.values(o.appCategories).find(e=>e.name[d]===t)),handleChange:e=>{i(t=>({...t,selectedCategory:e?e.name[d]:"",selectedSubCategories:[],page:1})),m({sub:{value:"",deleteValue:!0},page:{value:"1",replace:!0},cat:{value:e?e.name[d]:"",replace:!0}})}})}),(0,a.jsx)("div",{className:"auctions-filter-item",children:(0,a.jsx)(M,{selectedCategory:n.selectedCategory,selectedSubCategories:n.selectedSubCategories,handleChange:e=>{let t=n.selectedSubCategories.includes(e?.name[d]??""),s=e?t?n.selectedSubCategories.filter(t=>t!==e?.name[d]):[...n.selectedSubCategories,e?.name[d]]:[];if(i(e=>({...e,selectedSubCategories:s,page:1})),!e){m({sub:{value:"",deleteValue:!0},page:{value:"1",replace:!0}});return}m({sub:{value:e?e.name[d]:""},page:{value:"1",replace:!0}})}})}),(0,a.jsx)("div",{className:"auctions-filter-item",children:(0,a.jsx)(q,{selectedLocations:n.selectedLocations,handleChange:e=>{let t=n.selectedLocations.includes(e?.name??""),s=e?t?n.selectedLocations.filter(t=>t!==e?.name):[...n.selectedLocations,e?.name]:[];if(i(e=>({...e,selectedLocations:s,page:1})),!e){m({loc:{value:"",deleteValue:!0},page:{value:"1",replace:!0}});return}m({loc:{value:e?e.name:""},page:{value:"1",replace:!0}})},locations:s})}),(0,a.jsx)("div",{className:"auctions-filter-item",children:(0,a.jsx)(I,{initialMinPrice:n.minPrice,initialMaxPrice:n.maxPrice,handleMinChange:e=>{i(t=>({...t,minPrice:e,page:1})),m({min:{value:e?e.toString():"",...e?{replace:!0}:{deleteValue:!0}},page:{value:"1",replace:!0}})},handleMaxChange:e=>{i(t=>({...t,maxPrice:e,page:1})),m({max:{value:e?e.toString():"",...e?{replace:!0}:{deleteValue:!0}},page:{value:"1",replace:!0}})}})})]})};var z=s(88103);let V=e=>{let{opened:t,handleClose:s,locations:n,activeFilters:i,setActiveFilters:c}=e,d=(0,r.A)().currentLanguage,{t:u}=(0,o.B)(d),p=(0,l.useRef)(null);return(0,z.L)(p,()=>{t&&s()}),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:t?"side-info info-open":"side-info",ref:p,children:(0,a.jsx)("div",{className:"side-info-content",children:(0,a.jsxs)("div",{className:"mb-40",children:[(0,a.jsxs)("div",{className:"row align-items-center",children:[(0,a.jsx)("div",{className:"col-9",children:(0,a.jsx)(w.v,{})}),(0,a.jsx)("div",{className:"col-3 text-end",children:(0,a.jsx)("button",{className:"side-info-close","aria-label":"close",onClick:s,children:(0,a.jsx)(N.I,{type:"generic/close-filled"})})})]}),(0,a.jsxs)("div",{className:"mt-30",children:[(0,a.jsx)("div",{className:"mb-20",children:(0,a.jsx)("h1",{className:"m-0",children:u("home.filter.filter")})}),(0,a.jsx)(B,{allAuctionsCount:e.allAuctionsCount,locations:n,activeFilters:i,setActiveFilters:c})]}),(0,a.jsx)("div",{className:"mt-30 w-100",children:(0,a.jsx)("button",{className:"fill-btn w-100",onClick:s,"aria-label":u("home.filter.apply_filter"),children:u("home.filter.apply_filter")})})]})})})})};var D=s(1348);let O=e=>{let{icon:t,title:s,onDelete:n}=e;return(0,a.jsxs)("div",{className:"active-filter-item gap-4",children:[(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-center gap-2",children:[t,(0,a.jsx)("span",{children:s})]}),(0,a.jsx)("button",{onClick:n,className:"d-flex align-items-center justify-content-center",children:(0,a.jsx)(N.I,{type:"generic/close-filled",size:18})})]})};var U=s(32885);let K=e=>{var t;let s=(0,r.A)(),n=s.currentLanguage,{t:i}=(0,o.B)(n),[,d]=(0,l.useState)(0);(0,l.useEffect)(()=>{d(e=>e+1)},[e.activeFilters]);let u=(0,c.useRouter)(),{activeFilters:p,setActiveFilters:m}=e,x=e=>{let t=p.selectedSubCategories.filter(t=>t!==e);m(e=>({...e,selectedSubCategories:t,page:1})),f({sub:{value:t.join(","),replace:!0},page:{value:"1",replace:!0}})},h=e=>{let t=p.selectedLocations.filter(t=>t!==e);m(e=>({...e,selectedLocations:t,page:1})),f({loc:{value:t.join(","),replace:!0},page:{value:"1",replace:!0}})},f=e=>{let t=g(e);u.push(`/auctions?${t}`,{scroll:!1})},b=e=>{let t=!0;try{let s=Number(e);isNaN(s)&&(t=!1)}catch(e){console.error(`Could not parse number: ${e}`),t=!1}return t};return(0,a.jsxs)("div",{className:"d-flex d-lg-none align-items-center justify-content-start flex-wrap gap-2",children:[p.selectedCategory&&"all"!==p.selectedCategory&&(0,a.jsx)(O,{onDelete:()=>{m(e=>({...e,selectedCategory:"all",selectedSubCategories:[],page:1})),f({sub:{value:"",deleteValue:!0},page:{value:"1",replace:!0},cat:{value:"",deleteValue:!0}})},title:p.selectedCategory,icon:(0,a.jsx)(U.E,{category:(t=p.selectedCategory,Object.values(s.appCategories).find(e=>e.name[n]===t))})}),p.selectedSubCategories.map(e=>(0,a.jsx)(O,{onDelete:()=>{x(e)},title:e},e)),p.selectedLocations.map(e=>(0,a.jsx)(O,{onDelete:()=>{h(e)},title:e},e)),!!p.minPrice&&b(p.minPrice.toString())&&(0,a.jsx)(O,{onDelete:()=>{m(e=>({...e,minPrice:void 0,page:1})),f({min:{value:"",deleteValue:!0},page:{value:"1",replace:!0}})},title:`${i("home.filter.min_price_value",{no:p.minPrice})}`}),!!p.maxPrice&&b(p.maxPrice.toString())&&(0,a.jsx)(O,{onDelete:()=>{m(e=>({...e,maxPrice:void 0,page:1})),f({max:{value:"",deleteValue:!0},page:{value:"1",replace:!0}})},title:`${i("home.filter.max_price_value",{no:p.maxPrice})}`})]})};var G=s(52534);let T=e=>{let{locations:t}=e,s=(0,r.A)(),d=s.currentLanguage,{t:j}=(0,o.B)(d),y=(0,c.useRouter)(),w=(0,c.useSearchParams)(),[P,k]=(0,l.useState)(!1),[S,A]=(0,l.useState)(""),[_,L]=(0,l.useState)({}),[E,q]=(0,l.useState)(0),[I,R]=(0,l.useState)(x(w,Object.values(s.appCategories),t,d)),F=(0,G.G)(),$=(0,l.useRef)(!0),M=(0,l.useRef)(!1),z=(0,l.useRef)(!0),O=(0,l.useRef)(null);(0,l.useEffect)(()=>{z.current=!1},[]),(0,l.useEffect)(()=>{z.current||(async e=>{$.current=!0;let[t,s]=await Promise.all([W(e),T()]);q(s),L(s=>({...s,[e]:t})),$.current=!1,M.current=!0})(I.page-1)},[I]);let U=()=>{P?document.body.classList.remove("no-scroll"):document.body.classList.add("no-scroll"),k(e=>!e)},T=async()=>{try{let e=Z();return await i.z.countFilter({activeOnly:!0,...e,usedCurrencyId:F?.id})}catch(e){return console.error(`Could not load auctions count: ${e}`),0}finally{}},W=async e=>{try{let t=Z();return await i.z.load({activeOnly:!0,...t,page:e,pageSize:16,usedCurrencyId:F?.id})}catch(e){return console.error(`Could not load auctions: ${e}`),[]}finally{}},Z=()=>{let e=u(s.appCategories,[I.selectedCategory]),a=p(s.appCategories,I.selectedSubCategories,d),n=m(t,I.selectedLocations);return{minPrice:I.minPrice,maxPrice:I.maxPrice,sortBy:I.sort,categories:e,subCategories:a,locationIds:n,query:I.query}},J=e=>{let t=g(e);y.push(`/auctions?${t}`,{scroll:!1})},X=C()(e=>{A(e),R(t=>({...t,query:e,page:1})),J({query:{value:e,replace:!0},page:{value:"1",replace:!0}})},700),H=e=>{R(t=>({...t,sort:e})),J({sort:{value:e.toString(),replace:!0},page:{value:"1",replace:!0}})},Q=e=>{$.current=!0,R(t=>({...t,page:e+1})),J({page:{value:(e+1).toString(),replace:!0}}),setTimeout(()=>{O.current&&O.current.scrollIntoView({behavior:"instant",block:"start"})},0)},Y=()=>!!I&&!!(I.selectedCategory&&"all"!==I.selectedCategory||I.selectedSubCategories?.length>0||I.selectedLocations?.length>0||I.minPrice||I.maxPrice||0!==I.sort||I.query?.length),ee=Array.from({length:16},(e,t)=>t+1),et=Math.ceil(E/16);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"max-width mt-30 mt-sm-5 pb-50 pb-sm-5 d-flex justify-content-center",children:(0,a.jsxs)("div",{className:"main-container d-flex flex-column gap-4 w-100",children:[(0,a.jsxs)("div",{className:"p-1 d-flex align-items-center justify-content-between",children:[(0,a.jsx)("h1",{className:"m-0",children:j("home.filter.filter")}),(0,a.jsx)("div",{className:"d-flex align-items-center gap-2",children:(0,a.jsx)("button",{className:`border-btn ${Y()?"":"inactive-button"}`,onClick:()=>{Y()&&(A(""),R({selectedCategory:"",selectedSubCategories:[],selectedLocations:[],minPrice:void 0,maxPrice:void 0,query:"",sort:0,page:1}),J({cat:{value:"all",replace:!0},sub:{value:"",deleteValue:!0},loc:{value:"",deleteValue:!0},min:{value:"",deleteValue:!0},max:{value:"",deleteValue:!0},query:{value:"",deleteValue:!0},page:{value:"1",replace:!0},sort:{value:"0",replace:!0}}))},children:j("home.filter.clear_all")})})]}),(0,a.jsxs)("div",{className:"p-1 d-flex align-items-center gap-2",children:[(0,a.jsxs)("div",{className:"w-100",children:[(0,a.jsx)("span",{className:"secondary-color d-none d-lg-block",children:j("info.search_auctions")}),(0,a.jsx)(f.w,{secondary:!0,listenForValueChange:!0,isLoading:$.current,placeholder:j("home.search.search"),style:{width:"100%"},value:S,onChange:e=>X(e)})]}),(0,a.jsx)(h.V,{hideOnSmallerScreens:!0,selected:I.sort,handleSelect:e=>{H(e)}}),(0,a.jsx)("div",{className:"d-block d-lg-none",children:(0,a.jsx)("button",{className:"secondary-border-btn",onClick:U,style:{width:45},children:(0,a.jsx)(N.I,{type:"generic/filter"})})})]}),(0,a.jsx)("div",{className:"d-none d-lg-block",children:(0,a.jsx)(B,{locations:t,activeFilters:I,allAuctionsCount:e.activeAuctionsCount,setActiveFilters:R})}),(0,a.jsx)(K,{activeFilters:I,setActiveFilters:R}),(0,a.jsxs)("div",{className:"p-1 d-flex align-items-center justify-content-between",ref:O,children:[(0,a.jsx)("h1",{className:"m-0",children:j("home.auctions.auctions")}),(0,a.jsx)("span",{children:!!et&&j("info.you_see_page",{page:I.page,total:et})})]}),(0,a.jsxs)("div",{className:"auctions-list-root d-flex justify-center row w-100 no-bs-gutter",children:[(!1===M.current||$.current)&&ee.map((e,t)=>(0,a.jsx)("div",{className:"container col-md-3 col-sm-4 col-6 p-1",children:(0,a.jsx)(D.Z,{})},t)),_[I.page-1]?.map((e,t)=>a.jsx(n.S,{auction:e},t)),!_[I.page-1]?.length&&!$.current&&(0,a.jsx)(b.h,{height:100,title:j("home.auctions.no_auctions_to_display")})]}),(0,a.jsx)("div",{className:"d-flex justify-content-center mt-20 mb-10",children:(0,a.jsx)(v(),{nextLabel:">",previousLabel:"<",onPageChange:e=>{Q(e.selected)},forcePage:I.page-1,pageRangeDisplayed:2,marginPagesDisplayed:1,pageCount:et,pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",containerClassName:"pagination",activeClassName:"active",renderOnZeroPageCount:null})})]})}),(0,a.jsx)(V,{opened:P,allAuctionsCount:e.activeAuctionsCount,locations:t,activeFilters:I,setActiveFilters:R,handleClose:U})]})}},17928:(e,t,s)=>{"use strict";s.d(t,{V:()=>o});var a=s(45512),n=s(35144),i=s(45025),l=s(87704),r=s(91636);let o=(0,s(58009).memo)(e=>{let t=(0,r.A)().currentLanguage,{t:s}=(0,n.B)(t),{selected:o,withLabel:c=!0,hideOnSmallerScreens:d=!1,handleSelect:u}=e;return(0,a.jsxs)("div",{className:`d-none d-lg-block auctions-filter-item ${d?"d-none d-lg-block":""}`,children:[c&&(0,a.jsx)("span",{className:"secondary-color",children:s("info.sort_auctions")}),(0,a.jsx)(i.h,{options:[{id:0,option:s("generic.newest"),icon:(0,a.jsx)(l.I,{type:"sort/hourglass-top"})},{id:1,option:s("generic.oldest"),icon:(0,a.jsx)(l.I,{type:"sort/hourglass-bottom"})},{id:2,option:s("generic.ascending_price"),icon:(0,a.jsx)(l.I,{type:"sort/sort-ascending"})},{id:3,option:s("generic.descending_price"),icon:(0,a.jsx)(l.I,{type:"sort/sort-descending"})}],defaultCurrent:o??0,onChange:e=>{u(e.id)},name:"sort auctions",className:"w-100"})]})});o.displayName="AuctionsSortByDropdown"},45025:(e,t,s)=>{"use strict";s.d(t,{h:()=>m});var a=s(45512),n=s(63),i=s.n(n),l=s(58009),r=s(24655),o=s(87704),c=s(74659),d=s.n(c),u=s(91636),p=s(35144);let m=({options:e,defaultCurrent:t,placeholder:s,searchPlaceholder:n,className:c,itemClassName:m,withSearch:g,customStyle:x={},onChange:h,name:f})=>{let b=(0,u.A)().currentLanguage,{t:j}=(0,p.B)(b),[v,y]=(0,l.useState)(!1),[C,N]=(0,l.useState)(e[t]),w=(0,l.useCallback)(()=>{y(!1)},[]),[P,k]=(0,l.useState)(""),[S,A]=(0,l.useState)(e);(0,l.useEffect)(()=>{N(e[t])},[e]),(0,l.useEffect)(()=>{A(e)},[e]),(0,l.useEffect)(()=>{P?A(e.filter(e=>d()(e.option)?.toLowerCase()?.includes(d()(P)?.toLowerCase()))):A(e)},[P]);let _=(0,l.useRef)(null);(0,r.A)(_,w);let L=e=>{N(e),h(e,f),w(),k("")},E=e=>{e.stopPropagation()};return(0,a.jsxs)("div",{role:"button",tabIndex:0,onClick:()=>{y(e=>!e)},onKeyDown:e=>{"Enter"===e.key&&y(e=>!e)},ref:_,style:x,className:`jsx-625678c3927b23d1 nice-select ${c||""} ${v?"open":""}`,children:[(0,a.jsxs)("div",{className:"jsx-625678c3927b23d1 current d-flex align-items-center gap-2 align-items-center",children:[C?.icon,(0,a.jsx)("span",{className:"jsx-625678c3927b23d1",children:C?.option||s})]}),(0,a.jsxs)("ul",{role:"menubar",onClick:E,onKeyDown:E,onKeyUp:E,className:"jsx-625678c3927b23d1 list",children:[g&&(0,a.jsxs)("div",{className:"jsx-625678c3927b23d1 w-100 p-16",children:[(0,a.jsxs)("div",{className:"jsx-625678c3927b23d1 pos-rel",children:[(0,a.jsx)("input",{placeholder:n??"Search...",value:P,onChange:e=>k(e.target.value),className:"jsx-625678c3927b23d1 w-100 nice-select-search-input"}),P.length?(0,a.jsx)("div",{onClick:()=>{k("")},className:"jsx-625678c3927b23d1 clear-search-icon",children:(0,a.jsx)(o.I,{type:"generic/close-filled",size:18})}):null]}),!!P.length&&!!e.length&&!S.length&&(0,a.jsx)("div",{className:"jsx-625678c3927b23d1 pt-1 d-flex align-items-center justify-content-center",children:j("home.filter.no_data_found")})]}),S?.map(e=>a.jsx("li",{"data-value":e.id,role:"menuitem",onClick:()=>L(e),onKeyPress:e=>{E(e)},"aria-label":e.option,className:"jsx-625678c3927b23d1"+" "+`option d-flex align-items-center ${m??""} ${e.id===C?.id?"selected focus":""}`,children:a.jsxs("div",{className:"jsx-625678c3927b23d1"+" w-100 d-flex align-content-center justify-content-between",children:[a.jsxs("div",{className:"jsx-625678c3927b23d1"+" d-flex align-items-center option-title-root gap-2",children:[e.icon,a.jsx("span",{className:"jsx-625678c3927b23d1"+" option-title",children:e.option})]}),e.sufix]})},e.id))]}),(0,a.jsx)(i(),{id:"625678c3927b23d1",children:".clear-search-icon.jsx-625678c3927b23d1{position:absolute;right:16px;top:50%;-webkit-transform:translatey(-50%);-moz-transform:translatey(-50%);-ms-transform:translatey(-50%);-o-transform:translatey(-50%);transform:translatey(-50%);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}"})]})}},81883:(e,t,s)=>{"use strict";s.d(t,{h:()=>i});var a=s(45512),n=s(87704);let i=e=>{let{title:t,height:s}=e;return(0,a.jsxs)("div",{className:"no-results-container gap-4",style:{...s?{height:s}:{}},children:[(0,a.jsx)(n.I,{type:"logo",size:80}),(0,a.jsx)("span",{children:t})]})}},78221:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p,generateMetadata:()=>u});var a=s(62740),n=s(27030),i=s(87191),l=s(23556),r=s(65676),o=s(76301);let c=async()=>{try{let e=await fetch("http://localhost:7777/location/all",{next:{revalidate:0},method:"GET"});if(!e.ok)throw Error("Failed to fetch data");return e.json()}catch(e){return console.error(`Failed to fetch locations: ${e}`),[]}},d=async()=>{try{let e=await fetch("http://localhost:7777/auction/filter/count",{next:{revalidate:0},method:"POST",body:JSON.stringify({active:!0})});if(!e.ok)throw Error("Failed to fetch data");return e.json()}catch(e){return console.error(`Failed to fetch categories: ${e}`),0}};async function u({params:e}){let{lang:t}=await e,{t:s}=await (0,i.B)(t),a=s("pageSEO.auctions_list_title"),n=s("pageSEO.auctions_list_description");return{title:a,description:n,openGraph:{title:a,description:n,images:[{url:l.kW.IMAGE_URL,width:300,height:300,alt:a}]},twitter:{title:a,description:n,images:[{url:l.kW.IMAGE_URL,width:300,height:300,alt:a}]}}}let p=async()=>{let[e,t]=await Promise.all([c(),d()]);return(0,a.jsx)(n.f,{children:(0,a.jsx)(o.Suspense,{fallback:null,children:(0,a.jsx)(r.AllAuctionsListRoot,{locations:e,activeAuctionsCount:t.count})})})}},65676:(e,t,s)=>{"use strict";s.d(t,{AllAuctionsListRoot:()=>a});let a=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call AllAuctionsListRoot() from the server but AllAuctionsListRoot is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\hp\\source\\repos\\auction\\biddo_web\\src\\app\\[lang]\\auctions\\root.tsx","AllAuctionsListRoot")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[638,8403,1273,5418,1974,5649,9413,8241],()=>s(68061));module.exports=a})();