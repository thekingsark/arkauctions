"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6237],{9323:(t,e,o)=>{o.d(e,{b:()=>n});let n={TOO_MANY_ASSETS:"Too many assets",ASSET_TOO_BIG:"Asset too big",ASSET_NOT_SUPPORTED:"Asset not supported"}},75527:(t,e,o)=>{o.d(e,{U:()=>l});var n=o(64422),a=o(47468),i=o(67177),r=o(46120),c=o(35658),s=o(37725);class u{async finishCategoriesSetup(t){try{let e=a.t.accountData;if((0,s.h5)(()=>{e.categoriesSetupDone=!0,e.preferredCategoriesIds=t.map(t=>t.id)}),!await n.p.update(e))return!1;return c.z.refreshRecommendations(),!0}catch(t){return console.error("Error finishing categories setup: ".concat(t)),!1}}async reloadAuthUser(){let t=await n.p.loadLoggedIn();t&&a.t.setAccountDetails(t)}async askForVerification(){if(!await n.p.askForVerification())return!1;let t=a.t.accountData;return(0,s.h5)(()=>{t.verificationRequestedAt=new Date}),!0}async saveLocationToAccount(t,e,o){try{var i,r;let c=a.t.accountData;if(!c)return!1;if((null===(i=c.locationLatLng)||void 0===i?void 0:i.lat)===t&&(null===(r=c.locationLatLng)||void 0===r?void 0:r.lng)===e)return!0;if((0,s.h5)(()=>{c.locationLatLng=t&&e?{lat:t,lng:e}:void 0,c.locationPretty=null!=o?o:""}),!await n.p.update(c))return!1;return!0}catch(t){return console.error("Error saving location to account: ".concat(t)),!1}}async updateAccountCurrency(t){try{let e=a.t.accountData;return(0,s.h5)(()=>{e.selectedCurrencyId=t}),await n.p.update(e),!0}catch(t){return console.error("Error updating account currency: ".concat(t)),!1}}async finishInto(){try{let t=a.t.accountData;return(0,s.h5)(()=>{t.introDone=!0}),await n.p.update(t),!0}catch(t){return console.error("Error finishing intro: ".concat(t)),!1}}async skipIntro(){try{let t=a.t.accountData;return(0,s.h5)(()=>{t.introSkipped=!0}),await n.p.update(t),!0}catch(t){return console.error("Error skipping intro: ".concat(t)),!1}}async acceptTerms(t){try{let e=a.t.accountData;if(!e)return;return(0,s.h5)(()=>{e.acceptedTermsAndCondition=t}),await n.p.update(e),!0}catch(t){return console.error("Error accepting terms: ".concat(t)),!1}}async loadAccountStats(){try{if(!a.t.accountData)return;let t=await n.p.loadStats();t&&this.updateAccountAuctionsCountFromStats(t)}catch(t){console.error("Error loading account stats: ".concat(t))}}async updateAccountAllowedNotifications(t){try{var e;if(!(null===(e=a.t.accountData)||void 0===e?void 0:e.id))return;return(0,s.h5)(()=>{a.t.accountData.allowedNotifications=t}),await n.p.update({...a.t.accountData}),!0}catch(t){return console.error("Error updating account notifications: ".concat(t)),!1}}async blockAccount(t){try{var e;if(!(null===(e=a.t.accountData)||void 0===e?void 0:e.id))return;return await n.p.blockAccount(t),(0,s.h5)(()=>{var e;a.t.accountData.blockedAccounts=null!==(e=a.t.accountData.blockedAccounts)&&void 0!==e?e:[],a.t.accountData.blockedAccounts.push(t)}),!0}catch(t){return console.error("Error blocking account: ".concat(t)),!1}}async unblockAccount(t){try{var e;if(!(null===(e=a.t.accountData)||void 0===e?void 0:e.id))return;return await n.p.unblockAccount(t),(0,s.h5)(()=>{var e;a.t.accountData.blockedAccounts=null===(e=a.t.accountData.blockedAccounts)||void 0===e?void 0:e.filter(e=>e!==t)}),!0}catch(t){return console.error("Error unblocking account: ".concat(t)),!1}}async updateNameAndProfilePicture(t,e){if(!t&&!e)return!1;let o=null;e&&(o=await (0,i.X)(e));try{let i=a.t.accountData;if(!i)return!1;t&&(0,s.h5)(()=>{i.name=t});let r=await n.p.update(i,null!=o?o:void 0);if(!r)return!1;return e&&(0,s.h5)(()=>{a.t.accountData.picture=null==r?void 0:r.picture}),!0}catch(t){return console.error("Error updating name and profile picture: ".concat(t)),!1}}async deleteAccount(){try{if(!await n.p.delete())return!1;return await r.R.logout(),!0}catch(t){return console.error("Failed to delete account: ".concat(t)),!1}}updateAccountAuctionsCountFromStats(t){(0,s.h5)(()=>{a.t.accountStats.allAuctionsCount=t.auctions,a.t.accountStats.activeAuctions=t.activeAuctions,a.t.accountStats.closedAuctions=t.closedAuctions,a.t.accountStats.allBidsCount=t.bids,a.t.accountStats.acceptedBids=t.acceptedBids,a.t.accountStats.rejectedBids=t.rejectedBids})}}let l=new u},35658:(t,e,o)=>{o.d(e,{z:()=>h});var n=o(67177),a=o(72772),i=o(3816),r=o(47468),c=o(37725),s=o(83782),u=o(75527),l=o(56855);class d{async update(t,e){try{var o,r,c,s,d,h,A,E,_,O;let{assets:p=[]}=e,g=await Promise.all(p.map(async t=>(0,n.X)(t)));delete e.assets;let N=new l.d;await i.u.update({id:t,location:e.location,files:g,assetsToKeep:null!==(o=e.assetsToKeep)&&void 0!==o?o:[],latLng:JSON.stringify([e.latLng.lat,e.latLng.lng]),description:N.clean(null!==(r=e.description)&&void 0!==r?r:""),youtubeLink:null!==(c=e.youtubeLink)&&void 0!==c?c:"",condition:void 0===e.condition||null===e.condition?"used":e.condition===a.aj.newProduct?"new":"used",title:N.clean(null!==(s=e.title)&&void 0!==s?s:""),mainCategoryId:null!==(d=e.mainCategoryId)&&void 0!==d?d:"",initialCurrencyId:null!==(h=e.initialCurrencyId)&&void 0!==h?h:"",subCategoryId:null!==(A=e.subCategoryId)&&void 0!==A?A:"",hasCustomStartingPrice:null!==(E=e.hasCustomStartingPrice)&&void 0!==E&&E,price:null!==(_=e.startingPrice)&&void 0!==_?_:0,...e.startAt?{startAt:e.startAt}:{},...e.expiresAt?{expiresAt:e.expiresAt}:{}});try{await u.U.saveLocationToAccount(e.latLng.lat,e.latLng.lng,null!==(O=e.location)&&void 0!==O?O:"")}catch(t){console.error("Could not save location to account: ".concat(t))}return!0}catch(t){return console.error("Could not update auction: ".concat(t)),!1}}async storeSeenAuction(t){(0,c.h5)(()=>{let e=r.t.lastSeenAuctions.filter(e=>e.id!==t.id);e.unshift(t),r.t.lastSeenAuctions=e}),i.u.storeLastSeenAuction(t.id)}async loadLastSeen(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return s.S.load(t,e)}async loadRecommendations(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;try{return await i.u.loadRecommendations(t,e)}catch(t){return console.error("Could not load recommendations: ".concat(t)),[]}}async refreshRecommendations(){try{let t=await i.u.loadRecommendations(0,8);(0,c.h5)(()=>{r.t.recommendedAuctions=t})}catch(t){console.error("Could not refresh recommendations: ".concat(t))}}async countAllActive(){try{return await i.u.countFilter({activeOnly:!0})}catch(t){return console.error("Could not load auctions: ".concat(t)),0}}async search(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;try{return await i.u.search(t,e,o)}catch(t){return console.error("Could not search auctions: ".concat(t)),[]}}async loadSummary(t){return await i.u.loadSummary(t)}async create(t){try{var e,o,s,d,h,A,E,_,O;let{assets:p=[]}=t,g=await Promise.all(p.map(async t=>(0,n.X)(t)));delete t.assets;let N=new l.d,C=await i.u.create({location:t.location,files:g,latLng:JSON.stringify([t.latLng.lat,t.latLng.lng]),description:N.clean(null!==(e=t.description)&&void 0!==e?e:""),hasCustomStartingPrice:null!==(o=t.hasCustomStartingPrice)&&void 0!==o&&o,price:null!==(s=t.startingPrice)&&void 0!==s?s:0,youtubeLink:null!==(d=t.youtubeLink)&&void 0!==d?d:"",initialCurrencyId:null!==(h=t.initialCurrencyId)&&void 0!==h?h:"",condition:void 0===t.condition||null===t.condition?"used":t.condition===a.aj.newProduct?"new":"used",title:N.clean(null!==(A=t.title)&&void 0!==A?A:""),mainCategoryId:null!==(E=t.mainCategoryId)&&void 0!==E?E:"",subCategoryId:null!==(_=t.subCategoryId)&&void 0!==_?_:"",...t.startAt?{startAt:t.startAt}:{},...t.expiresAt?{expiresAt:t.expiresAt}:{}});if(!C)return C;try{await u.U.saveLocationToAccount(t.latLng.lat,t.latLng.lng,null!==(O=t.location)&&void 0!==O?O:"")}catch(t){console.error("Could not save location to account: ".concat(t))}return(0,c.h5)(()=>{r.t.accountStats.activeAuctions+=1,r.t.accountStats.allAuctionsCount+=1,r.t.activeAuctionsCount+=1}),C}catch(t){return console.error("Could not create auction: ".concat(t)),null}}async countFilter(t){try{return await i.u.countFilter(t)}catch(t){return console.error("Could not count auctions: ".concat(t)),0}}async load(t){try{return await i.u.loadFilteredAuctions(t)}catch(t){return console.error("Could not load auctions: ".concat(t)),[]}}async translateDetails(t,e){try{return await i.u.translateDetails(t,e)}catch(t){return console.error("Could not translate auction details: ".concat(t)),null}}async promote(t,e){try{if(!r.t.accountData||!await i.u.promote(t))return!1;return(0,c.h5)(()=>{var t;(null===(t=r.t.accountData)||void 0===t?void 0:t.coins)?r.t.accountData.coins-=e:r.t.accountData.coins=0,r.t.accountData.coins<0&&(r.t.accountData.coins=0)}),!0}catch(t){return console.error("Could not promote auction: ".concat(t)),!1}}async countForAccountByBidStatus(t,e){return await i.u.countForAccountByBidStatus(t,e)}async loadForAccountByBidStatus(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;try{return await i.u.loadForAccountByBidStatus(t,e,o,n,a)}catch(t){return console.error("Could not load auctions: ".concat(t)),[]}}async countForCurrentAccountByStatus(t,e){return await i.u.countForAccount(t,e)}async loadForCurrentAccountByStatus(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;try{return await i.u.loadForAccount(t,e,o,n,a)}catch(t){return console.error("Could not load auctions for current account by status: ".concat(t)),[]}}async countActiveByAccountId(t,e){try{return await i.u.countActiveForAccount(t,e)}catch(t){return console.error("Could not count auctions: ".concat(t)),0}}async loadActiveByAccountId(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;try{return await i.u.loadActiveForAccount(t,e,o,n,a)}catch(t){return console.error("Could not load auctions: ".concat(t)),[]}}async remove(t){try{if(!await i.u.remove(t))return!1;return(0,c.h5)(()=>{r.t.activeAuctionsCount-=1,r.t.activeAuctionsCount<0&&(r.t.activeAuctionsCount=0),r.t.accountStats.activeAuctions-=1,r.t.accountStats.activeAuctions<0&&(r.t.accountStats.activeAuctions=0),r.t.accountStats.allAuctionsCount-=1,r.t.accountStats.allAuctionsCount<0&&(r.t.accountStats.allAuctionsCount=0)}),!0}catch(t){return console.error("Could not delete auction: ".concat(t)),!1}}}let h=new d},46120:(t,e,o)=>{o.d(e,{R:()=>C});var n=o(76646),a=function(t){return t.ACCESS_TOKEN="ACCESS_TOKEN",t.USER_STATE="USER_STATE",t.ACCEPTED_NEWSLETTER="ACCEPTED_NEWSLETTER",t.ACCEPTED_TERMS="ACCEPTED_TERMS",t.COMMITED_ACCEPTED_TERMS="COMMITED_ACCEPTED_TERMS",t}({});let i="thqUserData";class r{constructor(){this.localStorageData={},this.retrieveData=()=>{let t=localStorage.getItem(i);if(t)try{this.localStorageData=JSON.parse(t)}catch(t){console.error(t)}},this.get=t=>this.localStorageData[t],this.set=(t,e)=>{this.localStorageData[t]=e,localStorage.setItem(i,JSON.stringify(this.localStorageData))}}}let c=new r;var s=o(86237),u=o(64422),l=o(47468),d=o(75527),h=o(22496),A=o(75828);let E=(0,A.createServerReference)("40356eb03d115b44419cc28a24190efb57f9840662",A.callServer,void 0,A.findSourceMapURL,"createAccountSession");var _=o(49524);let O=(0,A.createServerReference)("00f80a388851ebe4d918d6d2825afa76b1866aac86",A.callServer,void 0,A.findSourceMapURL,"removeAccountSession");var p=o(37725),g=o(46571);class N{unsubUser(){n.u.unsubAuthUser()}async loadAuthToken(){let t=await n.u.getAuthUserAsync();if(!t)return null;let e=await t.getIdToken(!0);return s.w.setAuthToken(e),(0,h.j)(e),e}async loadUserData(){try{(0,p.h5)(()=>{l.t.loadingStates.currentAccount=!0});let t=await u.p.loadLoggedIn();if(t&&E({...t}),(0,p.h5)(()=>{l.t.loadingStates.currentAccount=!1}),!t){window.location.href="/auth/login";return}l.t.setAccountDetails(t);let e=localStorage.getItem(a.COMMITED_ACCEPTED_TERMS),o=localStorage.getItem(a.ACCEPTED_TERMS);if("false"===e)try{await d.U.acceptTerms(!!o&&"true"===o),l.t.acceptTerms("true"===o),localStorage.setItem(a.COMMITED_ACCEPTED_TERMS,"true")}catch(t){console.error("Could not update account data: ".concat(t))}}catch(t){console.error("Could not load user data",t),await n.u.logout(),window.location.href="/auth/login"}}async getAuthUser(){return n.u.getAuthUserAsync()}constructor(){this.loginWithGoogle=async()=>{try{return await n.u.signInWithGoogle(),await this.loadAuthToken(),window.location.href="/",!0}catch(t){return console.log("could not login with google",t),!1}},this.signUp=async(t,e,o)=>{let i=await n.u.signUp(t,e);return i&&"auth/email-already-in-use"!==i&&(localStorage.setItem(a.ACCEPTED_TERMS,o.toString()),localStorage.setItem(a.COMMITED_ACCEPTED_TERMS,"false"),window.location.href="/"),i},this.sendPasswordResetEmail=async t=>n.u.sendPasswordResetEmail(t),this.loginWithPhoneNumber=async(t,e)=>{try{return await n.u.validatePhoneNumber(t,e)}catch(t){return console.error("Could not login with phone number",t),!1}},this.submitPhoneNumberOtp=async t=>{try{return await n.u.submitPhoneNumberOtp(t)}catch(t){return console.error("Could not submit phone number otp",t),!1}},this.loginWithFacebook=async()=>{try{return await n.u.signInWithFacebook(),await this.loadAuthToken(),window.location.href="/",!0}catch(t){return console.log("could not login with facebook",t),!1}},this.loginWithEmailAndPassword=async(t,e)=>{try{return await n.u.signInWithEmailAndPassword(t,e),await this.loadAuthToken(),window.location.href="/",!0}catch(t){return console.error("Could not login using email and password.",t),!1}},this.resendEmailVerification=async()=>n.u.resendEmailVerification(),this.getAuthUserAsync=async()=>n.u.getAuthUserAsync(),this.logout=async()=>{s.w.setAuthToken(""),c.set(a.ACCESS_TOKEN,void 0),await (0,_.d)(),await O(),l.t.cleanupAllData(),g.C.disconnect(),await n.u.logout()}}}let C=new N;Object.freeze(C)},46571:(t,e,o)=>{o.d(e,{s:()=>l,C:()=>h});var n=o(44784),a=o(71319),i=o(76646);class r{async connect(t){let e=await i.u.getAuthUserAsync();e||console.info("Could not get auth user");let o=e?await e.getIdToken():"";return this.socketConnection=(0,a.io)(t,{transports:["websocket"],auth:{token:o},query:{token:o},extraHeaders:{token:o}}),this.socketConnection.on("connect",()=>{this.wasInitializedOnce||(this.wasInitializedOnce=!0)}),this.socketConnection}attachMessageHandler(t){return t?(this.onMessageHandler=e=>{t(e)},this.socketConnection):null}constructor(){this.onMessageHandler=void 0,this.socketConnection=null,this.wasInitializedOnce=!1}}let c=new r;var s=o(47468),u=o(37725),l=function(t){return t.auctionAdded="auctionAdded",t.auctionUpdated="auctionUpdated",t.auctionRemoved="auctionRemoved",t.auctionReactivate="auctionReactivate",t.bidAccepted="bidAccepted",t.bidAdded="bidAdded",t.bidRejected="bidRejected",t.bidRemoved="bidRemoved",t.bidUpdated="bidUpdated",t.reviewAdded="reviewAdded",t.appDataLoad="appDataLoad",t.system="system",t.auctionLastPriceUpdate="auctionLastPriceUpdate",t.accountUpdated="accountUpdated",t.newNotification="newNotification",t.newMessage="newMessage",t.messagesRemoved="messagesRemoved",t.coinsUpdated="coinsUpdated",t.newChatGroup="newChatGroup",t.allConnectedAccounts="allConnectedAccounts",t.newConnectedAccount="newConnectedAccount",t.accountDisconnected="accountDisconnected",t.accountVerified="accountVerified",t}({});class d{constructor(){this.socketConnection=null,this.handlers={},this.initSocket=async t=>{var e,o;(null===(e=this.socketConnection)||void 0===e||!e.active)&&(null===(o=this.socketConnection)||void 0===o||!o.connected)&&(this.socketConnection=await c.connect(t),this.socketConnection&&this.socketConnection.on("message",t=>{try{let e=JSON.parse(t);if(!e.custom)return;let{type:o,message:n}=e;switch(this.handlers[o]&&this.handlers[o].forEach(t=>t(n)),o){case"accountVerified":(0,u.h5)(()=>{s.t.accountData&&(s.t.accountData.verified=!0,s.t.accountData.verifiedAt=new Date)});break;case"newNotification":this.handleNewNotification(n.dataValues);break;case"coinsUpdated":(0,u.h5)(()=>{s.t.accountData&&n&&(s.t.accountData.coins="object"==typeof n&&"coins"in n?n.coins:n)});break;case"allConnectedAccounts":let a=n.filter(t=>t),i=Array.from(new Set(a));s.t.loggedInAccounts=i;break;case"newConnectedAccount":s.t.loggedInAccounts.find(t=>t===n)||s.t.loggedInAccounts.push(n);break;case"accountDisconnected":if(!n)break;s.t.loggedInAccounts=s.t.loggedInAccounts.filter(t=>t!==n)}}catch(t){console.error("Error handling message",t)}}))},this.disconnect=()=>{this.socketConnection&&(this.socketConnection.disconnect(),this.socketConnection.close())},this.setHandler=(t,e)=>{this.handlers[t]||(this.handlers[t]=[]),this.handlers[t].push(e)},this.handleNewNotification=t=>{if(Object.values(s.t.notifications).find(e=>e.id===t.id))return;let e=new n.k(t);t&&(0,u.h5)(()=>{s.t.notifications={...s.t.notifications,[e.id]:e},s.t.userUnreadNotificationsCount++})}}}let h=new d},8420:(t,e,o)=>{o.d(e,{gD:()=>s});var n=o(60561),a=o(72772);class i{static fromJSON(t){return new i(t)}constructor(t={}){var e;this.id=t.id,this.data=new r(t.data),this.name=t.name,this.type=null!==(e=t.type)&&void 0!==e?e:"generic",this.createdAt=t.createdAt?new Date(t.createdAt.toString()):new Date,this.updatedAt=t.updatedAt?new Date(t.updatedAt.toString()):new Date}}class r{constructor(t={}){this.selectedCategories=t.selectedCategories,this.selectedSubCategories=t.selectedSubCategories,this.selectedLocations=t.selectedLocations,this.includeMyAuctions=t.includeMyAuctions,this.minPrice=t.minPrice,this.maxPrice=t.maxPrice}}var c=o(18404);class s{static fromJSON(){var t,e,o,r,d,h,A,E,_,O,p,g,N;let C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},T=C.asset?n.V.fromJSON(C.asset):null,I=null;T&&(I=T.path?"".concat("http://localhost:7777","/assets/").concat(T.path):T.path);let{locationLat:y,locationLong:S}=null!=C?C:{};return new s({id:C.id,name:C.name,email:null!==(t=C.rawEmail)&&void 0!==t?t:C.email,about:null!==(e=C.about)&&void 0!==e?e:"",coins:null!==(o=C.coins)&&void 0!==o?o:0,isAnonymous:null!==(r=C.isAnonymous)&&void 0!==r&&r,picture:null!=I?I:C.picture,triviaMaxScore:C.triviaMaxScore,points:C.points,phone:C.phone,categoriesSetupDone:null!==(d=C.categoriesSetupDone)&&void 0!==d&&d,meta:C.meta?u.fromJSON(C.meta):void 0,acceptedTermsAndCondition:null!==(h=C.acceptedTermsAndCondition)&&void 0!==h&&h,introDone:null!==(A=C.introDone)&&void 0!==A&&A,introSkipped:null!==(E=C.introSkipped)&&void 0!==E&&E,filters:C.filters?C.filters.map(i.fromJSON):[],followingCount:null!==(_=C.followingCount)&&void 0!==_?_:0,followersCount:null!==(O=C.followersCount)&&void 0!==O?O:0,followingAccountsIds:null!==(p=C.followingAccountsIds)&&void 0!==p?p:[],followedByAccountsIds:null!==(g=C.followedByAccountsIds)&&void 0!==g?g:[],auctions:C.auctions?C.auctions.map(a.e7.fromJSON):[],activeAuctionsCount:C.activeAuctionsCount?parseInt(C.activeAuctionsCount.toString()):0,preferredCategoriesIds:C.preferredCategoriesIds?C.preferredCategoriesIds:[],blockedAccounts:null!==(N=C.blockedAccounts)&&void 0!==N?N:[],reviews:C.receivedReviews?C.receivedReviews.map(c.p.fromJSON):[],allowedNotifications:C.allowedNotifications?l.fromJSON(C.allowedNotifications):new l({}),reviewsAverage:C.reviewsAverage?parseFloat(C.reviewsAverage.toString()):void 0,reviewsCount:C.reviewsCount?parseInt(C.reviewsCount.toString()):void 0,locationPretty:C.locationPretty,verified:C.verified,verifiedAt:C.verifiedAt?new Date(C.verifiedAt.toString()):void 0,verificationRequestedAt:C.verificationRequestedAt?new Date(C.verificationRequestedAt.toString()):void 0,selectedCurrencyId:C.selectedCurrencyId,aiResponsesCount:C.aiResponsesCount?parseInt(C.aiResponsesCount.toString()):void 0,locationLatLng:y&&S?{lat:y,lng:S}:void 0})}constructor(t={}){var e,o,n,a,i,r,c,s,u,l,d,h,A,E,_,O,p;this.id=t.id,this.name=t.name,this.email=t.email,this.picture=t.picture,this.coins=t.coins,this.phone=t.phone,this.isAnonymous=null!==(e=t.isAnonymous)&&void 0!==e&&e,this.filters=null!==(o=t.filters)&&void 0!==o?o:[],this.reviews=null!==(n=t.reviews)&&void 0!==n?n:[],this.locationLatLng=t.locationLatLng,this.locationPretty=t.locationPretty,this.reviewsAverage=t.reviewsAverage,this.allowedNotifications=t.allowedNotifications,this.acceptedTermsAndCondition=null!==(a=t.acceptedTermsAndCondition)&&void 0!==a&&a,this.categoriesSetupDone=null!==(i=t.categoriesSetupDone)&&void 0!==i&&i,this.introDone=null!==(r=t.introDone)&&void 0!==r&&r,this.introSkipped=null!==(c=t.introSkipped)&&void 0!==c&&c,this.reviewsCount=t.reviewsCount,this.meta=t.meta,this.followingCount=null!==(s=t.followingCount)&&void 0!==s?s:0,this.followersCount=null!==(u=t.followersCount)&&void 0!==u?u:0,this.followingAccountsIds=null!==(l=t.followingAccountsIds)&&void 0!==l?l:[],this.followedByAccountsIds=null!==(d=t.followedByAccountsIds)&&void 0!==d?d:[],this.blockedAccounts=null!==(h=t.blockedAccounts)&&void 0!==h?h:[],this.preferredCategoriesIds=null!==(A=t.preferredCategoriesIds)&&void 0!==A?A:[],this.activeAuctionsCount=null!==(E=t.activeAuctionsCount)&&void 0!==E?E:0,this.auctions=null!==(_=t.auctions)&&void 0!==_?_:[],this.verified=t.verified,this.verifiedAt=t.verifiedAt,this.aiResponsesCount=t.aiResponsesCount,this.verificationRequestedAt=t.verificationRequestedAt,this.createdAt=null!==(O=t.createdAt)&&void 0!==O?O:new Date,this.updatedAt=null!==(p=t.updatedAt)&&void 0!==p?p:new Date,this.selectedCurrencyId=t.selectedCurrencyId}}class u{static fromJSON(t){return new u({lastSignInTime:t.lastSignInTime?new Date(t.lastSignInTime.toString()):null,appLanguage:t.appLanguage})}asObject(){return{lastSignInTime:this.lastSignInTime,appLanguage:"".concat(this.appLanguage)}}constructor(t={}){this.lastSignInTime=t.lastSignInTime,this.appLanguage=t.appLanguage}}class l{static fromJSON(t){var e,o,n,a,i,r,c,s,u,d,h,A,E,_,O,p,g,N,C,T;return new l({AUCTION_ADDED_TO_FAVOURITES:null===(e=t.AUCTION_ADDED_TO_FAVOURITES)||void 0===e||e,AUCTION_UPDATED:null===(o=t.AUCTION_UPDATED)||void 0===o||o,BID_ACCEPTED_ON_AUCTION:null===(n=t.BID_ACCEPTED_ON_AUCTION)||void 0===n||n,BID_REJECTED_ON_AUCTION:null===(a=t.BID_REJECTED_ON_AUCTION)||void 0===a||a,BID_REMOVED_ON_AUCTION:null===(i=t.BID_REMOVED_ON_AUCTION)||void 0===i||i,NEW_BID_ON_AUCTION:null===(r=t.NEW_BID_ON_AUCTION)||void 0===r||r,REVIEW_RECEIVED:null===(c=t.REVIEW_RECEIVED)||void 0===c||c,NEW_MESSAGE:null===(s=t.NEW_MESSAGE)||void 0===s||s,SYSTEM:null===(u=t.SYSTEM)||void 0===u||u,SOMEONE_ELSE_ADDED_BID_TO_SAME_AUCTION:null===(d=t.SOMEONE_ELSE_ADDED_BID_TO_SAME_AUCTION)||void 0===d||d,BID_WAS_SEEN:null===(h=t.BID_WAS_SEEN)||void 0===h||h,NEW_FOLLOWER:null===(A=t.NEW_FOLLOWER)||void 0===A||A,AUCTION_FROM_FAVOURITES_HAS_BID:null===(E=t.AUCTION_FROM_FAVOURITES_HAS_BID)||void 0===E||E,NEW_AUCTION_FROM_FOLLOWING:null===(_=t.NEW_AUCTION_FROM_FOLLOWING)||void 0===_||_,FAVOURITE_AUCTION_PRICE_CHANGE:null===(O=t.FAVOURITE_AUCTION_PRICE_CHANGE)||void 0===O||O,MY_AUCTION_STARTED:null===(p=t.MY_AUCTION_STARTED)||void 0===p||p,AUCTION_FROM_FAVOURITES_STARTED:null===(g=t.AUCTION_FROM_FAVOURITES_STARTED)||void 0===g||g,NEW_COMMENT_ON_AUCTION:null===(N=t.NEW_COMMENT_ON_AUCTION)||void 0===N||N,REPLY_ON_AUCTION_COMMENT:null===(C=t.REPLY_ON_AUCTION_COMMENT)||void 0===C||C,COMMENT_ON_SAME_AUCTION:null===(T=t.COMMENT_ON_SAME_AUCTION)||void 0===T||T})}asObject(){return{NEW_BID_ON_AUCTION:this.NEW_BID_ON_AUCTION,AUCTION_UPDATED:this.NEW_BID_ON_AUCTION,BID_REMOVED_ON_AUCTION:this.NEW_BID_ON_AUCTION,BID_ACCEPTED_ON_AUCTION:this.NEW_BID_ON_AUCTION,BID_REJECTED_ON_AUCTION:this.NEW_BID_ON_AUCTION,REVIEW_RECEIVED:this.NEW_BID_ON_AUCTION,NEW_MESSAGE:this.NEW_BID_ON_AUCTION,SYSTEM:this.NEW_BID_ON_AUCTION,SOMEONE_ELSE_ADDED_BID_TO_SAME_AUCTION:this.NEW_BID_ON_AUCTION,BID_WAS_SEEN:this.NEW_BID_ON_AUCTION,NEW_FOLLOWER:this.NEW_BID_ON_AUCTION,AUCTION_FROM_FAVOURITES_HAS_BID:this.NEW_BID_ON_AUCTION,NEW_AUCTION_FROM_FOLLOWING:this.NEW_BID_ON_AUCTION,AUCTION_ADDED_TO_FAVOURITES:this.NEW_BID_ON_AUCTION,FAVOURITE_AUCTION_PRICE_CHANGE:this.NEW_BID_ON_AUCTION,MY_AUCTION_STARTED:this.NEW_BID_ON_AUCTION,AUCTION_FROM_FAVOURITES_STARTED:this.NEW_BID_ON_AUCTION,NEW_COMMENT_ON_AUCTION:this.NEW_BID_ON_AUCTION,REPLY_ON_AUCTION_COMMENT:this.REPLY_ON_AUCTION_COMMENT,COMMENT_ON_SAME_AUCTION:this.COMMENT_ON_SAME_AUCTION}}constructor(t){this.AUCTION_ADDED_TO_FAVOURITES=t.AUCTION_ADDED_TO_FAVOURITES,this.AUCTION_UPDATED=t.AUCTION_UPDATED,this.BID_ACCEPTED_ON_AUCTION=t.BID_ACCEPTED_ON_AUCTION,this.BID_REJECTED_ON_AUCTION=t.BID_REJECTED_ON_AUCTION,this.BID_REMOVED_ON_AUCTION=t.BID_REMOVED_ON_AUCTION,this.NEW_BID_ON_AUCTION=t.NEW_BID_ON_AUCTION,this.NEW_MESSAGE=t.NEW_MESSAGE,this.REVIEW_RECEIVED=t.REVIEW_RECEIVED,this.SYSTEM=t.SYSTEM,this.SOMEONE_ELSE_ADDED_BID_TO_SAME_AUCTION=t.SOMEONE_ELSE_ADDED_BID_TO_SAME_AUCTION,this.BID_WAS_SEEN=t.BID_WAS_SEEN,this.NEW_FOLLOWER=t.NEW_FOLLOWER,this.AUCTION_FROM_FAVOURITES_HAS_BID=t.AUCTION_FROM_FAVOURITES_HAS_BID,this.NEW_AUCTION_FROM_FOLLOWING=t.NEW_AUCTION_FROM_FOLLOWING,this.FAVOURITE_AUCTION_PRICE_CHANGE=t.FAVOURITE_AUCTION_PRICE_CHANGE,this.MY_AUCTION_STARTED=t.MY_AUCTION_STARTED,this.AUCTION_FROM_FAVOURITES_STARTED=t.AUCTION_FROM_FAVOURITES_STARTED,this.NEW_COMMENT_ON_AUCTION=t.NEW_COMMENT_ON_AUCTION,this.REPLY_ON_AUCTION_COMMENT=t.REPLY_ON_AUCTION_COMMENT,this.COMMENT_ON_SAME_AUCTION=t.COMMENT_ON_SAME_AUCTION}}},60561:(t,e,o)=>{o.d(e,{V:()=>n});class n{static fromJSON(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({id:t.id,path:t.path,size:t.size,createdAt:t.createdAt?new Date(t.createdAt.toString()):null,updatedAt:t.updatedAt?new Date(t.updatedAt.toString()):null})}constructor(t={}){this.id=t.id,this.path=t.path,this.size=t.size,this.createdAt=t.createdAt,this.updatedAt=t.updatedAt}}},72772:(t,e,o)=>{o.d(e,{aj:()=>s,e7:()=>u,rP:()=>l});var n=o(37725),a=o(8420),i=o(60561),r=o(76058),c=o(18404),s=function(t){return t[t.newProduct=0]="newProduct",t[t.used=1]="used",t}({});class u{static fromJSON(){var t,e,o;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=n.locationLat,h=n.locationLong,A=null!=s&&null!=h?new l({lat:s,lng:h}):null,E=n.account?a.gD.fromJSON(n.account):null,_=n.reviews?n.reviews.map(c.p.fromJSON):[],O=n.bids?n.bids.map(r.G.fromJSON):[],p=n.auctionAssets?n.auctionAssets.map(i.V.fromJSON):[];!(null==p?void 0:p.length)&&Array.isArray(n.assets)&&(null===(t=n.assets)||void 0===t?void 0:t.length)&&(p=n.assets.map(i.V.fromJSON));let g=null!==(e=n.locationPretty)&&void 0!==e?e:"";g&&"undefined"!==g||(g="");let N=n.auctionHistoryEvents?n.auctionHistoryEvents.map(d.fromJSON):[];return new u({id:n.id,title:n.title,condition:n.isNewItem?0:1,description:n.description,youtubeLink:n.youtubeLink,location:A,lastPriceCurrencyId:n.lastPriceCurrencyId,initialCurrencyId:n.initialCurrencyId,mainCategoryId:n.mainCategoryId,subCategoryId:n.subCategoryId,locationPretty:g,auctioneer:E,assets:p,bids:O,reviews:_,historyEvents:N,views:n.views,countdownPreference:n.countdownPreference,countdownStarted:n.countdownStarted,isActive:n.isActive,acceptedBidAt:n.acceptedBidAt?new Date(n.acceptedBidAt.toString()):null,acceptedBidId:n.acceptedBidId,bidsCount:n.bidsCount,reactivatedAt:n.reactivatedAt?new Date(n.reactivatedAt.toString()):null,reactivationCount:null!==(o=n.reactivationCount)&&void 0!==o?o:0,hasCustomStartingPrice:n.hasCustomStartingPrice,startingPrice:n.startingPrice?parseFloat(n.startingPrice.toString()):0,lastPrice:n.lastPrice?parseFloat(n.lastPrice.toString()):0,whoPaysForShipment:n.whoPaysForShipment,expiresAt:n.expiresAt?new Date(n.expiresAt.toString()):null,startAt:n.startAt?new Date(n.startAt.toString()):null,startedAt:n.startedAt?new Date(n.startedAt.toString()):null,createdAt:n.createdAt?new Date(n.createdAt.toString()):null,updatedAt:n.updatedAt?new Date(n.updatedAt.toString()):null,promotedAt:n.promotedAt?new Date(n.promotedAt.toString()):null})}constructor(t={}){var e;this.id=t.id,this.title=t.title,this.description=t.description,this.location=t.location,this.locationPretty=t.locationPretty,this.auctioneer=t.auctioneer,this.assets=t.assets,this.bids=t.bids,this.condition=t.condition,this.reviews=t.reviews,this.views=t.views,this.isActive=null===(e=t.isActive)||void 0===e||e,this.acceptedBidAt=t.acceptedBidAt,this.acceptedBidId=t.acceptedBidId,this.bidsCount=t.bidsCount,this.hasCustomStartingPrice=t.hasCustomStartingPrice,this.startingPrice=t.startingPrice,this.youtubeLink=t.youtubeLink,this.lastPrice=t.lastPrice,this.mainCategoryId=t.mainCategoryId,this.subCategoryId=t.subCategoryId,this.whoPaysForShipment=t.whoPaysForShipment,this.expiresAt=t.expiresAt,this.createdAt=t.createdAt,this.updatedAt=t.updatedAt,this.promotedAt=t.promotedAt,this.startAt=t.startAt,this.startedAt=t.startedAt,this.historyEvents=t.historyEvents,this.lastPriceCurrencyId=t.lastPriceCurrencyId,this.initialCurrencyId=t.initialCurrencyId,(0,n.l_)(this)}}class l{constructor(t={}){this.lat=t.lat,this.lng=t.lng}}class d{static fromJSON(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new d({id:t.id,type:t.type,details:t.details,createdAt:t.createdAt?new Date(t.createdAt.toString()):null})}constructor(t={}){this.id=t.id,this.type=t.type,this.details=t.details,this.createdAt=t.createdAt}}},76058:(t,e,o)=>{o.d(e,{G:()=>r});var n=o(37725),a=o(8420),i=o(72772);class r{static fromJSON(t){var e;let o=t.locationLat,n=t.locationLong,c=null!=o&&null!=n?new i.rP({lat:o,lng:n}):null,s=t.bidder?a.gD.fromJSON(t.bidder):null;return new r({id:t.id,bidder:s,location:c,locationPretty:null!==(e=t.locationPretty)&&void 0!==e?e:"",description:t.description,isRejected:t.isRejected,rejectionReason:t.rejectionReason,isAccepted:t.isAccepted,price:t.price?parseFloat(t.price.toString()):0,initialCurrencyId:t.initialCurrencyId,createdAt:t.createdAt?new Date(t.createdAt.toString()):null,updatedAt:t.updatedAt?new Date(t.updatedAt.toString()):null})}constructor(t={}){this.id=t.id,this.bidder=t.bidder,this.location=t.location,this.locationPretty=t.locationPretty,this.description=t.description,this.isRejected=t.isRejected,this.rejectionReason=t.rejectionReason,this.isAccepted=t.isAccepted,this.price=t.price,this.initialCurrencyId=t.initialCurrencyId,this.createdAt=t.createdAt,this.updatedAt=t.updatedAt,(0,n.l_)(this)}}},64984:(t,e,o)=>{o.d(e,{Jy:()=>a,TQ:()=>i,aZ:()=>n});class n{static fromJSON(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n(t)}constructor(t={}){this.id=t.id,this.name=t.name,this.auctionsCount=t.auctionsCount}}class a{constructor(t={}){this.adr_address=t.adr_address,this.name=t.name,this.place_id=t.place_id,this.reference=t.reference,this.utc_offset=t.utc_offset,this.vicinity=t.vicinity,this.geometry=t.geometry,this.address_components=t.address_components}}class i{constructor(t={}){this.description=t.description,this.matched_substrings=t.matched_substrings,this.place_id=t.place_id,this.reference=t.reference,this.terms=t.terms,this.types=t.types,this.structured_formatting=t.structured_formatting}}},44784:(t,e,o)=>{o.d(e,{_:()=>n,k:()=>a});var n=function(t){return t.NEW_BID_ON_AUCTION="NEW_BID_ON_AUCTION",t.AUCTION_UPDATED="AUCTION_UPDATED",t.BID_REMOVED_ON_AUCTION="BID_REMOVED_ON_AUCTION",t.BID_ACCEPTED_ON_AUCTION="BID_ACCEPTED_ON_AUCTION",t.BID_REJECTED_ON_AUCTION="BID_REJECTED_ON_AUCTION",t.REVIEW_RECEIVED="REVIEW_RECEIVED",t.NEW_MESSAGE="NEW_MESSAGE",t.SYSTEM="SYSTEM",t.SOMEONE_ELSE_ADDED_BID_TO_SAME_AUCTION="SOMEONE_ELSE_ADDED_BID_TO_SAME_AUCTION",t.BID_WAS_SEEN="BID_WAS_SEEN",t.NEW_FOLLOWER="NEW_FOLLOWER",t.NEW_AUCTION_FROM_FOLLOWING="NEW_AUCTION_FROM_FOLLOWING",t.AUCTION_FROM_FAVOURITES_HAS_BID="AUCTION_FROM_FAVOURITES_HAS_BID",t.AUCTION_ADDED_TO_FAVOURITES="AUCTION_ADDED_TO_FAVOURITES",t.FAVOURITE_AUCTION_PRICE_CHANGE="FAVOURITE_AUCTION_PRICE_CHANGE",t.MY_AUCTION_STARTED="MY_AUCTION_STARTED",t.AUCTION_FROM_FAVOURITES_STARTED="AUCTION_FROM_FAVOURITES_STARTED",t.ACCOUNT_VERIFIED="ACCOUNT_VERIFIED",t.NEW_COMMENT_ON_AUCTION="NEW_COMMENT_ON_AUCTION",t.COMMENT_ON_SAME_AUCTION="COMMENT_ON_SAME_AUCTION",t.REPLY_ON_AUCTION_COMMENT="REPLY_ON_AUCTION_COMMENT",t}({});class a{static fromJSON(t){return new a({id:t.id,description:t.description,title:t.title,entityId:t.entityId,read:t.read,type:t.type,createdAt:t.createdAt?new Date(t.createdAt.toString()):new Date,updatedAt:t.updatedAt?new Date(t.updatedAt.toString()):new Date})}constructor(t={}){this.id=t.id,this.description=t.description,this.title=t.title,this.entityId=t.entityId,this.read=t.read,this.type=t.type,this.createdAt=t.createdAt,this.updatedAt=t.updatedAt}}},18404:(t,e,o)=>{o.d(e,{p:()=>a});var n=o(8420);class a{static fromJSON(t){return new a({id:t.id,stars:t.stars,description:t.description,auctionId:t.auctionId,reviewer:null!==t.reviewer?n.gD.fromJSON(t.reviewer):null,reviewed:null!==t.reviewed?n.gD.fromJSON(t.reviewed):null,createdAt:t.createdAt?new Date(t.createdAt.toString()):null,updatedAt:t.updatedAt?new Date(t.updatedAt.toString()):null})}constructor(t={}){this.id=t.id,this.stars=t.stars,this.description=t.description,this.auctionId=t.auctionId,this.reviewer=t.reviewer,this.reviewed=t.reviewed,this.createdAt=t.createdAt,this.updatedAt=t.updatedAt}}},64422:(t,e,o)=>{o.d(e,{p:()=>r});var n=o(86237),a=o(8420);class i{async loadLoggedIn(){try{let t=await n.w.makeRequest({method:n.Y.GET,path:"/account"});return a.gD.fromJSON(t)}catch(t){return console.error("Error loading logged-in user:",t),null}}async delete(){try{return await n.w.makeRequest({method:n.Y.DELETE,path:"/account"}),!0}catch(t){return console.error("Error deleting account:",t),!1}}async loadAccountDetails(t){try{let e=await n.w.makeRequest({method:n.Y.GET,path:"/account/details/".concat(t)});return a.gD.fromJSON(e)}catch(t){return console.error("Error loading account details:",t),null}}async askForVerification(){try{return await n.w.makeRequest({method:n.Y.PUT,path:"/account/requestVerification"}),!0}catch(t){return console.error("Error asking for verification:",t),!1}}async update(t,e){var o,i,r;let{name:c,allowedNotifications:s,acceptedTermsAndCondition:u,introDone:l,introSkipped:d,categoriesSetupDone:h,preferredCategoriesIds:A,locationLatLng:E,locationPretty:_,selectedCurrencyId:O}=t,p={meta:null===(o=t.meta)||void 0===o?void 0:o.asObject(),name:c,allowedNotifications:s,categoriesSetupDone:h,locationLatLng:JSON.stringify([null!==(i=null==E?void 0:E.lat)&&void 0!==i?i:null,null!==(r=null==E?void 0:E.lng)&&void 0!==r?r:null]),locationPretty:_,selectedCurrencyId:O,acceptedTermsAndCondition:u,introDone:l,introSkipped:d,preferredCategoriesIds:A},g=new FormData;e&&(Object.keys(p).forEach(t=>{let e=p[t];g.append(t,"string"==typeof e?e:JSON.stringify(e))}),g.append("files",e));let N=e?g:JSON.stringify(p);try{let t=await n.w.makeRequest({method:n.Y.POST,path:"/account",payload:N,contentType:e?"multipart/form-data":"application/json"});return a.gD.fromJSON(t)}catch(t){return console.error("Could not update account:",t),null}}async search(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;try{return(await n.w.makeRequest({method:n.Y.POST,path:"/account/search",payload:JSON.stringify({keyword:t,page:e}),contentType:"application/json"})).map(t=>a.gD.fromJSON(t))}catch(t){return console.error("Error searching accounts:",t),[]}}async loadStats(){try{return await n.w.makeRequest({method:n.Y.GET,path:"/account/stats"})}catch(t){return console.error("Error loading account stats:",t),null}}async blockAccount(t){await n.w.makeRequest({method:n.Y.PUT,path:"/account/update/blocked/block/".concat(t)})}async unblockAccount(t){await n.w.makeRequest({method:n.Y.PUT,path:"/account/update/blocked/unblock/".concat(t)})}}let r=new i},3816:(t,e,o)=>{o.d(e,{O:()=>c,u:()=>u});var n=o(72772),a=o(86237),i=o(64984),r=o(9323),c=function(t){return t[t.newest=0]="newest",t[t.oldest=1]="oldest",t[t.priceAsc=2]="priceAsc",t[t.priceDesc=3]="priceDesc",t}({});class s{async loadSummary(t){try{let e=await a.w.makeRequest({method:a.Y.GET,path:"/auction/summary/".concat(t)});return n.e7.fromJSON(e)}catch(t){return console.error("Error getting auction summary:",t),null}}async loadDetails(t){try{let e=await a.w.makeRequest({method:a.Y.GET,path:"/auction/details/".concat(t)});return n.e7.fromJSON(e)}catch(t){return console.error("Error getting auction details:",t),null}}async storeLastSeenAuction(t){try{return await a.w.makeRequest({method:a.Y.POST,path:"/lastSeen",payload:JSON.stringify({auctionId:t}),contentType:"application/json"}),!0}catch(t){return console.error("Error storing last seen auction:",t),!1}}async translateDetails(t,e){try{return await a.w.makeRequest({method:a.Y.GET,path:"/auction/translate/".concat(t,"/").concat(e)})}catch(t){return console.error("Error translating auction details:",t),null}}async loadAuctionLocations(){try{return(await a.w.makeRequest({method:a.Y.GET,path:"/location/all"})).map(t=>i.aZ.fromJSON(t))}catch(t){return console.error("Error getting locations:",t),[]}}async remove(t){try{return await a.w.makeRequest({method:a.Y.DELETE,path:"/auction/".concat(t)}),!0}catch(t){return console.error("Error removing auction:",t),!1}}async loadRecommendations(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{return(await a.w.makeRequest({method:a.Y.POST,path:"/auction-similarities",payload:JSON.stringify({page:t,perPage:e}),contentType:"application/json"})).map(t=>n.e7.fromJSON(t))}catch(t){return console.error("Error getting recommendations:",t),[]}}async loadByProximity(t,e){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;try{return(await a.w.makeRequest({method:a.Y.GET,path:"/auction/byLocationProximity/".concat(t.lat,"/").concat(t.lng,"/").concat(e,"/").concat(o)})).map(t=>n.e7.fromJSON(t))}catch(t){return console.error("Error getting auctions by proximity:",t),[]}}async promote(t){try{return await a.w.makeRequest({method:a.Y.PUT,path:"/auction/promote/".concat(t)}),!0}catch(t){return console.error("Error promoting auction:",t),!1}}async countForAccountByBidStatus(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return(await a.w.makeRequest({path:"/auction/byBid/".concat(t,"/count"),method:a.Y.POST,payload:JSON.stringify({query:e})})).count}catch(t){return console.error("Error counting auctions for account:",t),0}}async countForAccount(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return(await a.w.makeRequest({path:"/auction/all/account/".concat(t,"/count"),method:a.Y.POST,payload:JSON.stringify({query:e})})).count}catch(t){return console.error("Error counting auctions for account:",t),0}}async loadForAccountByBidStatus(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,{orderBy:c,orderDirection:s}=this.getOrderParams(r);try{return(await a.w.makeRequest({method:a.Y.POST,path:"/auction/byBid/".concat(t),payload:JSON.stringify({page:e,perPage:o,query:i,orderBy:c,orderDirection:s}),contentType:"application/json"})).map(t=>n.e7.fromJSON(t))}catch(t){return console.error("Error getting auctions for account:",t),[]}}async loadForAccount(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,{orderBy:c,orderDirection:s}=this.getOrderParams(r);try{return(await a.w.makeRequest({method:a.Y.POST,path:"/auction/all/account/".concat(t),payload:JSON.stringify({page:e,perPage:o,query:i,orderBy:c,orderDirection:s}),contentType:"application/json"})).map(t=>n.e7.fromJSON(t))}catch(t){return console.error("Error getting auctions for account:",t),[]}}async search(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;try{return(await a.w.makeRequest({method:a.Y.GET,path:"/auction/search/".concat(t,"/").concat(e,"/").concat(o)})).map(t=>n.e7.fromJSON(t))}catch(t){return console.error("Error searching auctions:",t),[]}}async loadLatestAuctions(){try{return(await a.w.makeRequest({method:a.Y.GET,path:"/auction/latest"})).map(t=>n.e7.fromJSON(t))}catch(t){return console.error("Error getting latest auctions:",t),null}}async countFilter(t){try{let e=await a.w.makeRequest({method:a.Y.POST,path:"/auction/filter/count",payload:JSON.stringify({...t}),contentType:"application/json"});return Number(e.count)}catch(t){return console.error("Error counting filtered auctions:",t),0}}async countActiveForAccount(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return(await a.w.makeRequest({method:a.Y.POST,path:"/auction/byAccount/active/count/".concat(t),payload:JSON.stringify({query:e})})).count}catch(t){return console.error("Error counting active auctions for account:",t),0}}async loadActiveForAccount(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,{orderBy:c,orderDirection:s}=this.getOrderParams(r);try{return(await a.w.makeRequest({method:a.Y.POST,path:"/auction/byAccount/active/".concat(t),payload:JSON.stringify({page:e,perPage:o,query:i,orderBy:c,orderDirection:s}),contentType:"application/json"})).map(t=>n.e7.fromJSON(t))}catch(t){return console.error("Error getting active auctions for account:",t),[]}}async loadFilteredAuctions(t){let{sortBy:e=1,pageSize:o=20}=t,{orderBy:i,orderDirection:r}=this.getOrderParams(e);try{return(await a.w.makeRequest({method:a.Y.POST,path:"/auction/filter/auctions",payload:JSON.stringify({...t,orderBy:i,orderDirection:r,perPage:o}),contentType:"application/json"})).map(t=>n.e7.fromJSON(t))}catch(t){return console.error("Error loading filtered auctions:",t),[]}}async update(t){try{let e=await this.generateFormDataForCreateOrUpdate(t),o=await a.w.makeRequest({method:a.Y.PUT,path:"/auction/".concat(t.id),payload:e,contentType:"multipart/form-data"});return n.e7.fromJSON(o)}catch(t){return this.handleError(t),null}}async create(t){try{let e=await this.generateFormDataForCreateOrUpdate(t),o=await a.w.makeRequest({method:a.Y.POST,path:"/auction",payload:e,contentType:"multipart/form-data"});return n.e7.fromJSON(o)}catch(t){return this.handleError(t),null}}async generateFormDataForCreateOrUpdate(t){let e=new FormData;return Object.keys(t).forEach(o=>{"id"!==o&&("files"===o?t[o].forEach(t=>{e.append("files",t)}):e.set(o,"string"==typeof t[o]?t[o]:JSON.stringify(t[o])))}),e}handleError(t){let e=JSON.stringify(t);return e.includes("TOO_MANY")?{error:!0,message:r.b.TOO_MANY_ASSETS}:e.includes("ASSET_TOO_BIG")?{error:!0,message:r.b.ASSET_TOO_BIG}:e.includes("ASSET_NOT_SUPPORTED")?{error:!0,message:r.b.ASSET_NOT_SUPPORTED}:{error:!0,message:"Could not create or update auction"}}getOrderParams(t){switch(t){case 0:default:return{orderBy:"createdAt",orderDirection:"desc"};case 1:return{orderBy:"createdAt",orderDirection:"asc"};case 3:return{orderBy:"lastPrice",orderDirection:"desc"};case 2:return{orderBy:"lastPrice",orderDirection:"asc"}}}}let u=new s},83782:(t,e,o)=>{o.d(e,{S:()=>r});var n=o(72772),a=o(86237);class i{async load(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{return(await a.w.makeRequest({path:"".concat(this.basePath,"/").concat(t,"/").concat(e),method:a.Y.GET})).map(t=>n.e7.fromJSON(t))}catch(t){return console.error("Error loading last seen auctions:",t),[]}}async store(t){try{await a.w.makeRequest({path:this.basePath,method:a.Y.POST,payload:JSON.stringify({auctionId:t}),contentType:"application/json"})}catch(t){console.error("Error storing last seen auction:",t)}}constructor(){this.basePath="/lastSeen"}}let r=new i},76646:(t,e,o)=>{o.d(e,{u:()=>c});let n={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""};var a=o(49904),i=o(14565);class r{async logout(){return await (0,i.CI)((0,i.xI)()),!0}unsubAuthUser(){this.firebaseUnsub&&this.firebaseUnsub()}getAuthUserAsync(){return new Promise(t=>{this.getAuthUser(t)})}reloadAuthUser(){try{var t;return null===(t=(0,i.xI)().currentUser)||void 0===t?void 0:t.reload()}catch(t){return console.error("Error reloading user",t),null}}async sendPasswordResetEmail(t){try{return await (0,i.J1)((0,i.xI)(),t),!0}catch(t){return console.error("Error sending password reset email",t),!1}}async resendEmailVerification(){try{let t=(0,i.xI)().currentUser;if(!t)return!1;return await (0,i.gA)(t),!0}catch(t){return console.error("Error resending email verification",t),!1}}constructor(){this.googleProvider=new i.HF,this.facebookProvider=new i.sk,this.verificationId=null,this.usedPhoneNumber=null,this.signInWithGoogle=async()=>{await (0,i.df)((0,i.xI)(),this.googleProvider)},this.signInWithFacebook=async()=>{await (0,i.df)((0,i.xI)(),this.facebookProvider)},this.signInWithEmailAndPassword=(t,e)=>(0,i.x9)((0,i.xI)(),t,e),this.validatePhoneNumber=async(t,e)=>{let o=(0,i.xI)();window.recaptchaVerifier=new i.kT(o,e,{size:"invisible"});let n=await (0,i.ik)(o,t,window.recaptchaVerifier);return this.verificationId=n.verificationId,n.verificationId},this.userHasPhoneNumber=()=>{let t=(0,i.xI)().currentUser;return(null==t?void 0:t.phoneNumber)!==null},this.userHasEmailVerified=async t=>{if(!t.emailValidationEnabled)return!0;let e=(0,i.xI)().currentUser;return!!e&&e.emailVerified},this.submitPhoneNumberOtp=t=>{if(this.verificationId&&t)return this.signInWithPhoneNumber(this.verificationId,t)},this.signInWithPhoneNumber=async(t,e)=>{try{let o=i.Oe.credential(t,e);return(await (0,i.eN)((0,i.xI)(),o)).user}catch(t){throw console.error("Error signing in with phone number:",t),t}},this.getAuthUser=async t=>{this.firebaseUnsub=(0,i.hg)((0,i.xI)(),t)},this.signUp=async(t,e)=>{try{let o=(0,i.xI)(),n=await (0,i.eJ)(o,t,e);try{await (0,i.gA)(n.user)}catch(t){console.error("Error sending email verification",t)}return!0}catch(t){if(-1!==t.message.indexOf("auth/email-already-in-use"))return"auth/email-already-in-use";return!1}},(0,a.Dk)().length||(0,a.Wp)(n)}}let c=new r},86237:(t,e,o)=>{o.d(e,{Y:()=>r,w:()=>s});var n=o(49524),a=o(22496),i=o(46120),r=function(t){return t.GET="GET",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE",t}({});class c{setAuthToken(t){this.authToken=t}async makeRequest(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{method:e="GET",path:o="",payload:n,headers:a={},contentType:r="application/json"}=t;try{let t={};Object.keys(a).length&&Object.keys(a).forEach(e=>{t[e]=a[e]}),this.authToken&&(t.Authorization="".concat(this.authToken)),"multipart/form-data"!==r&&(t["Content-Type"]=r);let i=await fetch("".concat("http://localhost:7777").concat(o),{headers:t,method:e,body:n}),c=await i.json();if(i.status>=400&&i.status<600)throw Error(JSON.stringify(c));return c}catch(e){if(e.message.includes("Token expired"))return await this.refreshAccessToken(),t.try&&t.try>5&&(await i.R.logout(),window.location.href="/"),this.makeRequest({...t,try:(t.try||0)+1});throw e}}async refreshAccessToken(){try{let t=await i.R.getAuthUserAsync();if(!t)throw Error("No auth user");let e=await t.getIdToken();if(!e)throw Error("No auth token");this.authToken=e;try{await (0,n.d)(),await (0,a.j)(e)}catch(t){console.error("Error creating session",t)}}catch(t){console.error("Error refreshing access token",t),this.authToken="",i.R.logout()}}constructor(){this.authToken=""}}let s=new c},47468:(t,e,o)=>{o.d(e,{t:()=>i});var n=o(37725);class a{setAccountDetails(t){(0,n.h5)(()=>{this.accountData={...null!=t?t:{}}})}acceptTerms(){let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];this.accountData&&(0,n.h5)(()=>{this.accountData.acceptedTermsAndCondition=t})}setFavourites(t){(0,n.h5)(()=>{this.favouriteAuctions=t})}addFavourite(t){(0,n.h5)(()=>{this.favouriteAuctions.push(t)})}removeFavourite(t){(0,n.h5)(()=>{this.favouriteAuctions=this.favouriteAuctions.filter(e=>e.id!==t.id)})}markAllNotificationsAsRead(){(0,n.h5)(()=>{this.userUnreadNotificationsCount=0,Object.values(this.notifications).forEach(t=>{t.read=!0})})}markNotificationAsRead(t){(0,n.h5)(()=>{let e=this.notifications[t];e&&(e.read=!0,this.userUnreadNotificationsCount-=1,this.userUnreadNotificationsCount<0&&(this.userUnreadNotificationsCount=0))})}updateLoadingState(t,e){(0,n.h5)(()=>{this.loadingStates[t]=e})}cleanupAllData(){(0,n.h5)(()=>{this.accountData=null,this.preferences={preferredCategories:[]},this.lastSeenAuctions=[],this.allAuctionsOfAccount=[],this.userUnreadNotificationsCount=0,this.searchHistoryItems=[],this.favouriteAuctions=[],this.notifications={},this.accountStats={acceptedBids:0,rejectedBids:0,allBidsCount:0,allAuctionsCount:0,activeAuctions:0,closedAuctions:0},this.chatGroups=[],this.chatMessages={},this.openedChatGroups=[]})}constructor(){this.accountData=null,this.preferences={preferredCategories:[]},this.loggedInAccounts=[],this.allAuctionsOfAccount=[],this.searchHistoryItems=[],this.favouriteAuctions=[],this.activeAuctionsCount=0,this.notifications={},this.userUnreadNotificationsCount=0,this.recommendedAuctions=[],this.lastSeenAuctions=[],this.accountStats={acceptedBids:0,rejectedBids:0,allBidsCount:0,allAuctionsCount:0,activeAuctions:0,closedAuctions:0},this.loadingStates={currentAccount:!0,notifications:!1,favourites:!1,searchHistoryItems:!1},this.chatGroups=[],this.chatMessages={},this.openedChatGroups=[],(0,n.l_)(this)}}let i=new a},67177:(t,e,o)=>{o.d(e,{C:()=>r,X:()=>i});var n=o(36191),a=o.n(n);let i=t=>new Promise((e,o)=>{new(a())(t,{maxWidth:1e3,quality:.7,success:t=>{e(t)},error:t=>{o(t)}})}),r=t=>new Promise((e,o)=>{new(a())(t,{maxWidth:500,quality:.6,success:t=>{e(t)},error:t=>{o(t)}})})},49524:(t,e,o)=>{o.d(e,{d:()=>a});var n=o(75828);let a=(0,n.createServerReference)("001e2d263b0e7623c03e5bc9ac2a9825db2c2d045e",n.callServer,void 0,n.findSourceMapURL,"removeSession")},22496:(t,e,o)=>{o.d(e,{j:()=>a});var n=o(75828);let a=(0,n.createServerReference)("40849c6b55f5f9ef05c20e583661a4623ffe95a3a1",n.callServer,void 0,n.findSourceMapURL,"createSession")}}]);