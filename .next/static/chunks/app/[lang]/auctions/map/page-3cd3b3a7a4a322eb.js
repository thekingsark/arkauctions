(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1363],{92629:(e,t,s)=>{Promise.resolve().then(s.bind(s,93035)),Promise.resolve().then(s.bind(s,92758)),Promise.resolve().then(s.bind(s,3518)),Promise.resolve().then(s.bind(s,22015)),Promise.resolve().then(s.bind(s,31160)),Promise.resolve().then(s.bind(s,31463)),Promise.resolve().then(s.bind(s,70184)),Promise.resolve().then(s.bind(s,32304))},92875:(e,t,s)=>{"use strict";s.d(t,{f:()=>l});var a=s(95155);let l=(0,s(12115).memo)(e=>(0,a.jsx)("div",{className:"auctions-filter-count",children:(0,a.jsx)("span",{className:"secondary-color ",children:e.count})}));l.displayName="AuctionsCountSuffix"},46427:(e,t,s)=>{"use strict";s.d(t,{b:()=>m});var a=s(95155),l=s(28144),n=s(15579),i=s(99151),o=s(13572),r=s(99512),c=s(92875),d=s(90908),u=s(47468);let m=(0,d.PA)(e=>{let{withLabel:t=!0}=e,s=(0,r.A)(),d=s.currentLanguage,{t:m}=(0,l.B)(d),h=s.appCategories.map(e=>{var t;return{id:e.id,option:e.name[d],icon:(0,a.jsx)(n.E,{category:e}),sufix:(0,a.jsx)(c.f,{count:null!==(t=e.auctionsCount)&&void 0!==t?t:0})}});h.unshift({id:"all",option:m("home.categories.all"),icon:(0,a.jsx)(o.I,{type:"logo"}),sufix:(0,a.jsx)(c.f,{count:u.t.activeAuctionsCount||e.allAuctionsCount})});let g=h.findIndex(t=>{var s;return t.id===(null===(s=e.defaultSelected)||void 0===s?void 0:s.id)});return(0,a.jsxs)("div",{className:"w-100",children:[t&&(0,a.jsx)("span",{className:"secondary-color",children:m("info.main_category")}),(0,a.jsx)(i.h,{withSearch:!0,options:h,defaultCurrent:-1!==g?g:0,onChange:t=>{let a=s.appCategories.find(e=>e.id===t.id);e.handleChange(a)},name:"main-category-filter",className:"w-100  ".concat(t?"mt-1":""),customStyle:e.customStyle})]})})},93035:(e,t,s)=>{"use strict";s.d(t,{AuctionsMapRoot:()=>T});var a=s(95155),l=s(31873),n=s(12115),i=s(18152);let o=(0,n.memo)(e=>{let t=(0,l.ko)(),{place:s,hasInitialDefaultLocation:a=!1}=e;return(0,n.useEffect)(()=>{if(t){if(!s||0==s.lat&&0==s.lng){t.setZoom(2);return}t.setCenter(s),t.setZoom(a?10:8)}},[t,s]),null});o.displayName="MapHandler";var r=s(82722),c=s(46427),d=s(53675),u=s(13572),m=s(28144),h=s(99512),g=s(70291),v=s(31566);let x=e=>{let{opened:t,handleClose:s,selectedCategory:l,handleSelectCategory:i}=e,o=(0,h.A)().currentLanguage,{t:r}=(0,m.B)(o),d=(0,n.useRef)(null);return(0,g.L)(d,()=>{t&&s()}),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:t?"side-info info-open h-100":"side-info",ref:d,children:(0,a.jsx)("div",{className:"side-info-content h-100",children:(0,a.jsxs)("div",{className:"mb-40 h-100",children:[(0,a.jsxs)("div",{className:"row align-items-center",children:[(0,a.jsx)("div",{className:"col-9",children:(0,a.jsx)(v.v,{})}),(0,a.jsx)("div",{className:"col-3 text-end",children:(0,a.jsx)("button",{className:"side-info-close","aria-label":"close",onClick:s,children:(0,a.jsx)(u.I,{type:"generic/close-filled"})})})]}),(0,a.jsxs)("div",{className:"mt-30 mb-30",children:[(0,a.jsx)("div",{className:"mb-20",children:(0,a.jsx)("h1",{className:"m-0",children:r("home.filter.filter")})}),(0,a.jsx)(c.b,{defaultSelected:l,withLabel:!1,allAuctionsCount:100,handleChange:i})]}),(0,a.jsx)("div",{className:"w-100",children:(0,a.jsx)("button",{className:"fill-btn w-100 mt-30",onClick:s,"aria-label":r("home.filter.apply_filter"),children:r("home.filter.apply_filter")})})]})})})})},p=e=>{let{useDeviceLocation:t=!0}=e,s=(0,n.useRef)(!1),l=(0,n.useRef)(null),[o,m]=(0,n.useState)(null),[h,g]=(0,n.useState)(!1),[v,p]=(0,n.useState)(!1),[f,j]=(0,n.useState)(!1),y=(0,n.useRef)(!1),w=(0,d.Q)();(0,n.useEffect)(()=>{!s.current&&t&&(N(),s.current=!0)}),(0,n.useEffect)(()=>{let e=null,t=()=>{e&&clearTimeout(e),e=setTimeout(()=>{if(l.current){let e=l.current.offsetTop,t=window.scrollY,s=y.current,a=t>=e;s!==a&&(y.current=a,p(a))}},10)};return window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t),e&&clearTimeout(e)}},[]);let b=()=>{f?document.body.classList.remove("no-scroll"):document.body.classList.add("no-scroll"),j(e=>!e)},N=async()=>{if(!h){g(!0);try{let t=await i.Z.getLocationFromCurrentDevice();t&&(m(t),e.handleLocationPick(t.place_id))}catch(e){console.error("Failed to get device location: ".concat(e))}finally{g(!1)}}},C=async t=>{t&&e.handleLocationPick(t.reference)};return(0,a.jsxs)("div",{className:"w-100",style:{position:v&&w?"fixed":"absolute",top:v?100:16},ref:l,children:[(0,a.jsxs)("div",{className:"max-width d-flex row no-bs-gutter",style:{maxWidth:900},children:[(0,a.jsx)("div",{className:"auctions-map-controls-location",children:(0,a.jsx)(r.H,{searchInProgress:h,selectedLocation:o,onLocationPicked:C,customStyle:{height:45}})}),(0,a.jsx)("div",{className:"d-none d-lg-flex auctions-map-controls-category",children:(0,a.jsx)(c.b,{defaultSelected:e.selectedCategory,withLabel:!1,allAuctionsCount:100,handleChange:e.handleCategoryPick})}),(0,a.jsx)("div",{className:"d-inline-flex d-lg-none auction-map-control-mobile-btn",style:{width:45,marginLeft:"0.5rem"},children:(0,a.jsx)("button",{className:"secondary-border-btn",onClick:b,children:(0,a.jsx)(u.I,{type:"generic/filter"})})})]}),(0,a.jsx)(x,{opened:f,handleClose:b,selectedCategory:e.selectedCategory,handleSelectCategory:e.handleCategoryPick})]})};var f=s(88033),j=s(5565),y=s(60443),w=s(15579),b=s(48173),N=s.n(b),C=s(98924);let k=e=>{let t=(0,h.A)(),s=t.currentLanguage,{defaultProductImageUrl:l}=t.appSettings;return(0,a.jsx)("div",{className:"d-flex pt-0 cluster-marker-details-root",children:e.points.map(e=>{var n,i,o,r;let c=t.appCategories.find(t=>{var s;return t.id===(null===(s=e.properties)||void 0===s?void 0:s.categoryId)}),d=new Date(null===(n=e.properties)||void 0===n?void 0:n.expiresAt);return(0,a.jsx)(N(),{href:"/auction/".concat(e.properties.auctionId),children:(0,a.jsxs)("div",{className:"pos-rel cluster-marker-details-item",children:[(0,a.jsx)("div",{className:"pos-rel cluster-marker-details-image",children:(0,a.jsx)(j.default,{fill:!0,src:(null===(i=e.properties)||void 0===i?void 0:i.assetPath)?"".concat("http://localhost:7777","/assets/").concat(null===(o=e.properties)||void 0===o?void 0:o.assetPath):l.length?l:y.default.src,alt:null===(r=e.properties)||void 0===r?void 0:r.auctionId,style:{objectFit:"cover",borderRadius:4}})}),(0,a.jsxs)("div",{className:"cluster-marker-details-category",children:[(0,a.jsx)(w.E,{category:c,size:18}),(0,a.jsx)("span",{children:null==c?void 0:c.name[s]})]}),(0,a.jsx)("div",{className:"cluster-marker-details-countdown ",children:(0,a.jsxs)("div",{className:"countdown-wrapper gap-2",children:[(0,a.jsx)("div",{className:"hourglass-wrapper",children:(0,a.jsx)(u.I,{type:"generic/hourglass",size:18})}),(0,a.jsx)(C.G,{deadlineDate:d})]})})]})},e.id)})})},L=e=>{let{clusterId:t,position:s,size:i,sizeAsText:o,getLeaves:r}=e,[c,d]=(0,l.vH)(),[m,h]=(0,n.useState)(!1),[v,x]=(0,n.useState)([]),p=n.useRef(null),f=n.useRef(null);(0,g.L)(f,()=>{m&&h(!1)},[],[],["gm-style-iw-c"]);let j=(0,n.useCallback)(()=>{h(!m),x(r(t))},[r,m,t]),y=Math.floor(48+2*Math.sqrt(i));return(0,a.jsxs)(l.J8,{ref:c,position:s,zIndex:i,onClick:j,className:"marker cluster",style:{width:y,height:y},anchorPoint:l.GN.CENTER,children:[(0,a.jsxs)("div",{ref:p,className:"d-flex flex-column align-content-center align-items-center",children:[(0,a.jsx)(u.I,{type:"header/auction",size:18}),(0,a.jsx)("span",{className:"d-flex align-items-center justify-content-center",children:o})]}),m&&(0,a.jsx)(l.Fu,{onCloseClick:()=>h(!1),anchor:d,children:(0,a.jsx)("div",{ref:f,className:"auction-cluster-details-root",children:(0,a.jsx)(k,{points:v})})})]})};var P=s(4617),_=s.n(P),I=s(17859),S=s(17721),E=s(18082),A=s(35658),R=s(29227);let F=e=>{var t,s,l,i,o,r;let{auctionId:c}=e,[d,u]=(0,n.useState)(!1),[g,v]=(0,n.useState)(null),x=(0,h.A)().currentLanguage,{t:p}=(0,m.B)(x),f=(0,n.useRef)(!1);return((0,n.useEffect)(()=>{d||f.current||(async()=>{u(!0);try{let e=await A.z.loadSummary(c);v(e),f.current=!0}catch(e){console.error("error loading auction summary: ".concat(e))}finally{u(!1)}})()},[]),g)?(0,a.jsx)("div",{className:"details-container",children:(0,a.jsxs)("div",{className:"auction-details d-flex justify-content-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:g.title}),(0,a.jsx)("div",{className:"details",children:(0,a.jsx)("div",{className:"detail_item",children:!!(null===(t=g.description)||void 0===t?void 0:t.length)&&(0,a.jsx)(R.A,{lines:2,more:p("generic.see_more"),less:p("generic.see_less"),anchorClass:"blue-text",expanded:!1,children:g.description})})}),(null===(s=g.auctioneer)||void 0===s?void 0:s.id)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mt-10 account-info",children:(0,a.jsx)(I.g,{pictureSize:40,account:g.auctioneer})}),(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-between mt-10",children:[(0,a.jsx)("div",{className:"mt-10 mb-10",children:(0,a.jsx)(S.y,{auction:g})}),(0,a.jsx)("p",{className:"price",children:(0,a.jsx)(E.J,{price:null!==(o=null!==(i=g.lastPrice)&&void 0!==i?i:g.startingPrice)&&void 0!==o?o:0,initialCurrencyId:null!==(r=g.lastPriceCurrencyId)&&void 0!==r?r:g.initialCurrencyId})})]})]})]}),(null===(l=g.auctioneer)||void 0===l?void 0:l.id)?(0,a.jsx)(N(),{className:"border-btn",href:"/auction/".concat(g.id),children:(0,a.jsx)("span",{className:"fw-normal",children:p("auctions_map.see_auction_details")})}):(0,a.jsx)("strong",{children:p("auction_details.dialogs.auction_removed")})]})}):null},z=e=>{let{isExtended:t=!1,path:s}=e,l="http://localhost:7777",{defaultProductImageUrl:n}=(0,h.A)().appSettings;return(0,a.jsxs)("div",{className:"photo-gallery ".concat(t?"extended":""),children:[(0,a.jsx)(j.default,{alt:"auction asset",width:50,height:50,src:""!==s?"".concat(l,"/assets/").concat(s):y.default.src,style:{borderRadius:4}}),(0,a.jsx)("div",{className:"gallery-navigation",children:(0,a.jsx)(j.default,{alt:"auction asset",fill:!0,src:""!==s?"".concat(l,"/assets/").concat(s):(null==n?void 0:n.length)?n:y.default.src,style:{objectFit:"cover",borderRadius:4}})})]})},D=e=>{let{point:t}=e,s=(0,h.A)(),[i,o]=(0,n.useState)(!1),[r,c]=(0,n.useState)(!1),u={lat:t.geometry.coordinates[1],lng:t.geometry.coordinates[0]},m=(0,d.Q)(),v=s.appCategories.find(e=>{var s;return e.id===(null===(s=t.properties)||void 0===s?void 0:s.categoryId)}),x=n.useRef(null),p=n.useRef(null);return(0,g.L)(p,()=>{i&&o(!1)},[i],[x]),(0,a.jsx)("div",{className:"".concat(i?"opened-advanced-marker":""),children:(0,a.jsx)(l.J8,{position:u,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),className:_()("auction-marker",{clicked:i,hovered:r}),onClick:()=>o(!i),style:{...i?{zIndex:100}:{}},children:(()=>{var e,s,l;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"custom-pin",children:[(0,a.jsxs)("div",{className:"image-container ".concat(i?m?"w-50":"w-100":""),style:{zIndex:2},children:[(0,a.jsx)("div",{className:"".concat(i?"h-100":""),style:{...r?{}:{visibility:"hidden"}},children:(0,a.jsx)(z,{isExtended:i,path:null!==(l=null===(e=t.properties)||void 0===e?void 0:e.assetPath)&&void 0!==l?l:""})}),(0,a.jsx)("span",{className:"icon w-100 h-100",ref:x,children:(0,a.jsx)(w.E,{category:v,size:30})})]}),(0,a.jsx)("div",{ref:p,className:"".concat(i?m?"w-50":"w-100":""," h-100"),style:{...i?{minWidth:180}:{}},children:(0,a.jsx)(F,{auctionId:null===(s=t.properties)||void 0===s?void 0:s.auctionId})})]}),(0,a.jsx)("div",{className:"tip"})]})})()})})},G={extent:256,radius:80,maxZoom:12},Z=e=>{let{geojson:t}=e,{clusters:s,getLeaves:i}=function(e,t){let s=(0,n.useMemo)(()=>new f.A(t),[t]),[a,i]=(0,n.useReducer)(e=>e+1,0);(0,n.useEffect)(()=>{s.load(e),i()},[s,e]);let{bbox:o,zoom:r}=function(){let{padding:e=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,l.ko)(),[s,a]=(0,n.useState)([-180,-90,180,90]),[i,o]=(0,n.useState)(0);return(0,n.useEffect)(()=>{if(!t)return;let s=t.addListener("bounds_changed",()=>{let s=t.getBounds(),l=t.getZoom(),n=t.getProjection();if(!s||!l||!n)return;let i=s.getSouthWest(),r=s.getNorthEast(),c=360/(256*Math.pow(2,l))*e,d=Math.min(90,r.lat()+c),u=Math.max(-90,i.lat()-c);a([i.lng()-c,u,r.lng()+c,d]),o(l)});return()=>s.remove()},[t,e]),{bbox:s,zoom:i}}({padding:100}),c=(0,n.useMemo)(()=>s&&0!==a?s.getClusters(o,r):[],[a,s,o,r]);return{clusters:c,getChildren:(0,n.useCallback)(e=>s.getChildren(e),[s]),getLeaves:(0,n.useCallback)(e=>s.getLeaves(e,1/0),[s]),getClusterExpansionZoom:(0,n.useCallback)(e=>s.getClusterExpansionZoom(e),[s])}}(t,G);return(0,a.jsx)(a.Fragment,{children:s.map(e=>{let[t,s]=e.geometry.coordinates,l=e.properties;return l.cluster?(0,a.jsx)(L,{clusterId:l.cluster_id,position:{lat:s,lng:t},size:l.point_count,sizeAsText:String(l.point_count_abbreviated),getLeaves:i},e.id):(0,a.jsx)(D,{point:e},e.id)})})};var M=s(76046);let T=e=>{let{apiKey:t,auctionsMapClusters:s}=e,[r,c]=(0,n.useState)(void 0),d=(0,M.useSearchParams)(),[u,m]=(0,n.useState)({lat:d.get("lat")?parseFloat(d.get("lat")):0,lng:d.get("lng")?parseFloat(d.get("lng")):0}),h=e=>e.map(e=>{var t;return{id:e.id,type:"Feature",geometry:{type:"Point",coordinates:[e.locationLong,e.locationLat]},properties:{auctionId:e.id,categoryId:e.meta.mainCategoryId,assetPath:null!==(t=e.meta.assetPath)&&void 0!==t?t:"",expiresAt:e.expiresAt}}}),[g,v]=(0,n.useState)(h(s)),x=async e=>{var t,s;if(!e)return;let{lat:a,lng:l}=null!==(s=null===(t=(await i.Z.getGooglePlaceDetails(e)).geometry)||void 0===t?void 0:t.location)&&void 0!==s?s:{};a&&l&&m({lat:a,lng:l})},f=!!d.get("lat")&&!!d.get("lng");return(0,a.jsx)("div",{className:"pos-rel d-flex flex-col align-items-center w-100",style:{flexDirection:"column"},children:(0,a.jsx)("div",{className:"auctions-map w-100",style:{width:"100%",borderRadius:6,height:"calc(100vh - 250px)"},children:(0,a.jsxs)(l.c4,{apiKey:t,libraries:["marker"],children:[(0,a.jsx)(l.T5,{mapId:"custom-map",style:{width:"100%",height:"100%",borderRadius:6},defaultCenter:{lat:null==u?void 0:u.lat,lng:null==u?void 0:u.lng},defaultZoom:(null==u?void 0:u.lat)===0&&0===u.lng?2:f?10:8,gestureHandling:"greedy",disableDefaultUI:!0}),g&&(0,a.jsx)(Z,{geojson:g}),(0,a.jsx)(p,{selectedCategory:r,useDeviceLocation:!f,handleLocationPick:x,handleCategoryPick:e=>{if(!e){r&&(v(h(s)),c(void 0));return}v(h(s.filter(t=>t.meta.mainCategoryId===e.id))),c(e)}}),(0,a.jsx)(o,{place:u,hasInitialDefaultLocation:f})]})})})}},17859:(e,t,s)=>{"use strict";s.d(t,{g:()=>h});var a=s(95155),l=s(28144),n=s(99512),i=s(88860),o=s(5565),r=s(13572),c=s(90908),d=s(47468),u=s(47220),m=s(7087);let h=(0,c.PA)(e=>{var t,s,c,h,g,v,x;let{currentLanguage:p,cookieAccount:f}=(0,n.A)(),{t:j}=(0,l.B)(p),{account:y,pictureSize:w=60}=e;return(0,a.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,a.jsxs)("div",{className:"position-relative",children:[(0,a.jsx)(o.default,{alt:"account picture",src:null==y?void 0:y.picture,height:w,width:w,style:{borderRadius:"50%"}}),(0,a.jsx)(u.q,{accountId:y.id}),(0,a.jsx)("div",{className:"verified-badge-container",children:(0,a.jsx)(m.C,{verified:y.verified})})]}),(0,a.jsxs)("div",{className:"d-flex flex-column overflow-hidden",children:[(0,a.jsx)("span",{className:"account-info-name",children:(0,i.N7)(y)}),(null==y?void 0:null===(t=y.reviews)||void 0===t?void 0:t.length)||(null==y?void 0:y.reviewsAverage)?(0,a.jsxs)("div",{className:"d-flex align-items-center gap-2",children:[(0,a.jsx)("div",{className:"d-flex align-items-center",style:{marginBottom:3},children:(0,a.jsx)(r.I,{type:"generic/star-filled",size:20,color:"#FFC107"})}),(0,a.jsxs)("span",{className:"secondary-color",children:[null!==(x=null===(h=y.reviewsAverage)||void 0===h?void 0:h.toFixed(2))&&void 0!==x?x:(0,i.gg)(y.reviews||[]).toFixed(2)," ","(",y.reviewsCount?y.reviewsCount:(null===(g=y.reviews)||void 0===g?void 0:g.length)?null===(v=y.reviews)||void 0===v?void 0:v.length:10,")"]})]}):(0,a.jsx)("span",{className:"secondary-color one-line-only",title:j((null==f?void 0:f.id)===(null==y?void 0:y.id)||(null===(s=d.t.accountData)||void 0===s?void 0:s.id)===(null==y?void 0:y.id)?"info.you_dont_have_any_reviews":"profile.reviews.no_reviews_for_account"),children:j((null==f?void 0:f.id)===(null==y?void 0:y.id)||(null===(c=d.t.accountData)||void 0===c?void 0:c.id)===(null==y?void 0:y.id)?"info.you_dont_have_any_reviews":"profile.reviews.no_reviews_for_account")})]})]})})},82722:(e,t,s)=>{"use strict";s.d(t,{H:()=>g});var a=s(95155),l=s(28144),n=s(13572),i=s(18152),o=s(70291),r=s(99512),c=s(70719),d=s.n(c),u=s(12115);let m=e=>{let t=(0,r.A)().currentLanguage,{t:s}=(0,l.B)(t),{predictions:i,queryLength:o,isLoading:c,handleLocationPick:d}=e;return(0,a.jsxs)("div",{className:"locations-search-menu-root",children:[c&&(0,a.jsx)("div",{className:"loader-wrapper d-flex justify-content-center",children:(0,a.jsx)(n.I,{type:"loading",size:40})}),!c&&o<2&&!i.length&&(0,a.jsx)("div",{className:"pl-20 pr-20",children:s("info.add_more_to_search")}),c||!(o>=3)||i.length?i.map((e,t)=>(0,a.jsx)("div",{className:"location-search-item",onClick:()=>d(e),children:(0,a.jsxs)("span",{className:"ml-10",children:[" ",e.description]})},t)):(0,a.jsx)("div",{className:"pl-20 pr-20",children:s("info.no_locations_found")})]})};var h=s(88860);let g=e=>{var t;let s=(0,r.A)().currentLanguage,{t:c}=(0,l.B)(s),[g,v]=(0,u.useState)(!1),[x,p]=(0,u.useState)(""),[f,j]=(0,u.useState)(null!==(t=e.searchInProgress)&&void 0!==t&&t),[y,w]=(0,u.useState)([]),b=u.useRef(null),N=u.useRef(null);(0,u.useEffect)(()=>{var t;j(null!==(t=e.searchInProgress)&&void 0!==t&&t)},[e.searchInProgress]),(0,u.useEffect)(()=>{var t;if(!e.selectedLocation)return;let s=null===(t=e.selectedLocation.address_components)||void 0===t?void 0:t.find(e=>e.types.includes("country")),a=(0,h.LL)(e.selectedLocation);s&&a&&p("".concat(a,", ").concat(s.long_name))},[e.selectedLocation]),(0,o.L)(b,()=>{g&&v(!1)},[g],[N]);let C=async e=>{if(e.length<2)return;j(!0),w([]);let t=await i.Z.searchGooglePlaces(e);j(!1),w(t)},k=(0,u.useRef)(d()(C,500)),L=(0,u.useCallback)(e=>{let t=e.target.value;p(t),k.current(t)},[]),P=t=>{e.onLocationPicked(t),p(t?t.description:""),v(!1)};return(0,a.jsxs)("div",{className:"pos-rel w-100 ".concat(g?"show-element":""),children:[(0,a.jsx)("div",{className:"search-icon-root",children:(0,a.jsx)(n.I,{type:"generic/location"})}),(0,a.jsx)("input",{className:"m-0 create-auction-input ".concat(e.secondaryColor?"secondary-background-color":""),type:"text",value:x,onChange:L,placeholder:c("location.search_by_city"),ref:N,onFocus:()=>v(!0),style:e.customStyle}),f&&(0,a.jsx)("div",{className:"right-icon-root",children:(0,a.jsx)(n.I,{type:"loading",size:24})}),!f&&x.length>0&&(0,a.jsx)("div",{className:"right-icon-root",onClick:()=>{P(null)},children:(0,a.jsx)(n.I,{type:"generic/close-filled",size:24})}),(0,a.jsx)("div",{className:"global-search-menu",ref:b,children:(0,a.jsx)(m,{predictions:y,queryLength:x.length,isLoading:f,handleLocationPick:P})})]})}},15579:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var a=s(95155),l=s(5565),n=s(13572);let i=e=>{let{category:t,size:s=24}=e;return t?t.asset?(0,a.jsx)(l.default,{alt:"Category image",src:"".concat("http://localhost:7777","/").concat(t.asset.path),height:s,width:s}):t.remoteIconUrl?(0,a.jsx)(l.default,{alt:"Category image",src:t.remoteIconUrl,height:s,width:s}):t.icon?(0,a.jsx)(n.I,{type:"categories/".concat(t.icon),size:s}):null:null}},99151:(e,t,s)=>{"use strict";s.d(t,{h:()=>h});var a=s(95155),l=s(58803),n=s.n(l),i=s(12115),o=s(16308),r=s(13572),c=s(59015),d=s.n(c),u=s(99512),m=s(28144);let h=e=>{let{options:t,defaultCurrent:s,placeholder:l,searchPlaceholder:c,className:h,itemClassName:g,withSearch:v,customStyle:x={},onChange:p,name:f}=e,j=(0,u.A)().currentLanguage,{t:y}=(0,m.B)(j),[w,b]=(0,i.useState)(!1),[N,C]=(0,i.useState)(t[s]),k=(0,i.useCallback)(()=>{b(!1)},[]),[L,P]=(0,i.useState)(""),[_,I]=(0,i.useState)(t);(0,i.useEffect)(()=>{C(t[s])},[t]),(0,i.useEffect)(()=>{I(t)},[t]),(0,i.useEffect)(()=>{L?I(t.filter(e=>{var t,s,a;return null===(a=d()(e.option))||void 0===a?void 0:null===(s=a.toLowerCase())||void 0===s?void 0:s.includes(null===(t=d()(L))||void 0===t?void 0:t.toLowerCase())})):I(t)},[L]);let S=(0,i.useRef)(null);(0,o.A)(S,k);let E=e=>{C(e),p(e,f),k(),P("")},A=e=>{e.stopPropagation()};return(0,a.jsxs)("div",{role:"button",tabIndex:0,onClick:()=>{b(e=>!e)},onKeyDown:e=>{"Enter"===e.key&&b(e=>!e)},ref:S,style:x,className:"jsx-625678c3927b23d1 "+"nice-select ".concat(h||""," ").concat(w?"open":""),children:[(0,a.jsxs)("div",{className:"jsx-625678c3927b23d1 current d-flex align-items-center gap-2 align-items-center",children:[null==N?void 0:N.icon,(0,a.jsx)("span",{className:"jsx-625678c3927b23d1",children:(null==N?void 0:N.option)||l})]}),(0,a.jsxs)("ul",{role:"menubar",onClick:A,onKeyDown:A,onKeyUp:A,className:"jsx-625678c3927b23d1 list",children:[v&&(0,a.jsxs)("div",{className:"jsx-625678c3927b23d1 w-100 p-16",children:[(0,a.jsxs)("div",{className:"jsx-625678c3927b23d1 pos-rel",children:[(0,a.jsx)("input",{placeholder:null!=c?c:"Search...",value:L,onChange:e=>P(e.target.value),className:"jsx-625678c3927b23d1 w-100 nice-select-search-input"}),L.length?(0,a.jsx)("div",{onClick:()=>{P("")},className:"jsx-625678c3927b23d1 clear-search-icon",children:(0,a.jsx)(r.I,{type:"generic/close-filled",size:18})}):null]}),!!L.length&&!!t.length&&!_.length&&(0,a.jsx)("div",{className:"jsx-625678c3927b23d1 pt-1 d-flex align-items-center justify-content-center",children:y("home.filter.no_data_found")})]}),null==_?void 0:_.map(e=>(0,a.jsx)("li",{"data-value":e.id,role:"menuitem",onClick:()=>E(e),onKeyPress:e=>{A(e)},"aria-label":e.option,className:"jsx-625678c3927b23d1 "+"option d-flex align-items-center ".concat(null!=g?g:""," ").concat(e.id===(null==N?void 0:N.id)?"selected focus":""),children:(0,a.jsxs)("div",{className:"jsx-625678c3927b23d1 w-100 d-flex align-content-center justify-content-between",children:[(0,a.jsxs)("div",{className:"jsx-625678c3927b23d1 d-flex align-items-center option-title-root gap-2",children:[e.icon,(0,a.jsx)("span",{className:"jsx-625678c3927b23d1 option-title",children:e.option})]}),e.sufix]})},e.id))]}),(0,a.jsx)(n(),{id:"625678c3927b23d1",children:".clear-search-icon.jsx-625678c3927b23d1{position:absolute;right:16px;top:50%;-webkit-transform:translatey(-50%);-moz-transform:translatey(-50%);-ms-transform:translatey(-50%);-o-transform:translatey(-50%);transform:translatey(-50%);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}"})]})}},18152:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(86237),l=s(64984);class n{async load(){try{return(await a.w.makeRequest({path:"".concat(this.basePath)})).data.map(e=>l.aZ.fromJSON({...e}))}catch(e){throw Error("Could not load locations: ".concat(e))}}async searchGooglePlaces(e){try{var t;let s=await a.w.makeRequest({path:"/google-maps/search/".concat(e),method:a.Y.GET});return null==s?void 0:null===(t=s.predictions)||void 0===t?void 0:t.map(e=>new l.TQ({...e}))}catch(e){throw Error("Could not search google places: ".concat(e))}}async getGooglePlaceDetails(e){try{var t;let s=await a.w.makeRequest({path:"/google-maps/details/".concat(e),method:a.Y.GET});return new l.Jy({...null!==(t=null==s?void 0:s.result)&&void 0!==t?t:{}})}catch(e){throw Error("Could not get google place details: ".concat(e))}}async getPlaceDetailsFromLatLng(e,t){try{let s=await a.w.makeRequest({path:"/google-maps/location/".concat(e,"/").concat(t),method:a.Y.GET});return new l.Jy({...s})}catch(e){throw Error("Could not get google place details by location: ".concat(e))}}constructor(){this.basePath="/locations"}}let i=new n;class o{searchGooglePlaces(e){return i.searchGooglePlaces(e)}getGooglePlaceDetails(e){return i.getGooglePlaceDetails(e)}locationIsInRomania(e){var t;return null===(t=e.address_components)||void 0===t?void 0:t.some(e=>e.types.includes("country")&&"RO"===e.short_name)}getPlaceDetailsFromLatLng(e,t){return i.getPlaceDetailsFromLatLng(e,t)}constructor(){this.getLocationFromCurrentDevice=()=>{let e={enableHighAccuracy:!1,timeout:5e3,maximumAge:0};return new Promise(async(t,s)=>{if(!navigator.geolocation)return t(null);let a=e=>{s(e)},l=async e=>{try{let s=await i.getPlaceDetailsFromLatLng(e.coords.latitude,e.coords.longitude);t(s)}catch(e){console.error("Could not get place details from lat lng: ".concat(e)),t(null)}};try{let t=await navigator.permissions.query({name:"geolocation"});"granted"===t.state?navigator.geolocation.getCurrentPosition(l,a,e):"prompt"===t.state?navigator.geolocation.getCurrentPosition(l,a,e):"denied"===t.state&&s("denied"),"denied"===t.state&&s("denied")}catch(e){return s(e)}})}}}let r=new o}},e=>{var t=t=>e(e.s=t);e.O(0,[1697,866,5551,2707,2535,139,6779,9227,5044,6237,9345,1160,3946,71,8441,1517,7358],()=>t(92629)),_N_E=e.O()}]);