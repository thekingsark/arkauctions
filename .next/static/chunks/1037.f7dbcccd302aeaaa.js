"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1037],{91037:(e,s,a)=>{a.r(s),a.d(s,{GlobalSearchInputMenu:()=>J,default:()=>O});var c=a(95155),t=a(58803),l=a.n(t),r=a(99512),n=a(12115),i=a(79214),o=a(8420),d=a(47220),h=a(7087),u=a(88860),x=a(5565),f=a(48173),j=a.n(f),m=a(76046);let b=e=>{let{account:s}=e,a=(0,m.useRouter)(),t=()=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"jsx-57b915b34845b24b global-search-item-root gap-2",children:[(0,c.jsxs)("div",{className:"jsx-57b915b34845b24b position-relative",children:[(0,c.jsx)(x.default,{src:s.picture,alt:"account image",height:40,width:40,style:{borderRadius:"50%"}}),(0,c.jsx)(d.q,{accountId:s.id}),(0,c.jsx)("div",{className:"jsx-57b915b34845b24b verified-badge-container",children:(0,c.jsx)(h.C,{verified:s.verified,size:20})})]}),(0,c.jsx)("span",{className:"jsx-57b915b34845b24b account-name",children:(0,u.N7)(s)})]}),(0,c.jsx)(l(),{id:"57b915b34845b24b",children:".account-name.jsx-57b915b34845b24b{color:var(--font_1)}"})]});return e.onClick?(0,c.jsx)("div",{onClick:()=>{e.onClick&&e.onClick(),a.push("/account/".concat(s.id))},children:t()}):(0,c.jsx)(j(),{href:"/account/".concat(s.id),children:t()})};var p=a(72772),g=a(60443),v=a(90908);let y=(0,v.PA)(e=>{let{auction:s}=e,a=(0,m.useRouter)(),t=(0,r.A)(),l=t.appCategories.find(e=>e.id===s.mainCategoryId),n=()=>{var e;if(!(null===(e=s.assets)||void 0===e?void 0:e.length)){let{defaultProductImageUrl:e}=t.appSettings;return(0,c.jsx)(x.default,{alt:"auction asset",fill:!0,src:(null==e?void 0:e.length)?e:g.default.src,style:{objectFit:"cover",borderRadius:4}})}let a=s.assets[0];return(0,c.jsx)(x.default,{alt:"auction asset",fill:!0,src:"".concat("http://localhost:7777","/assets/").concat(a.path),style:{objectFit:"cover",borderRadius:4}})},i=()=>(0,c.jsxs)("div",{className:"global-search-item-root gap-2",children:[(0,c.jsx)("div",{className:"pos-rel",style:{height:50,width:50},children:n()}),(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"m-0",children:s.title.length>45?s.title.substring(0,45)+"...":s.title}),(0,c.jsx)("span",{className:"secondary-color lw-light",children:null==l?void 0:l.name.en})]})]});return e.onClick?(0,c.jsx)("div",{onClick:()=>{e.onClick&&e.onClick(),a.push("/auction/".concat(s.id))},children:i()}):(0,c.jsx)(j(),{href:"/auction/".concat(s.id),children:i()})}),N=e=>{let{historyItems:s}=e;return(0,c.jsxs)("div",{className:"jsx-26aa7f6872462335 root h-100",children:[s.map((e,s)=>(0,c.jsx)("div",{className:"jsx-26aa7f6872462335 item",children:(0,c.jsx)(k,{item:e})},s)),(0,c.jsx)(l(),{id:"26aa7f6872462335",children:".root.jsx-26aa7f6872462335{overflow-y:auto;scrollbar-width:thin;margin-top:10px}"})]})},k=e=>{let{item:s}=e;return(0,n.useMemo)(()=>{var e,a;switch(s.type){case"account":let t=null;try{t=o.gD.fromJSON(JSON.parse(null!==(e=s.data)&&void 0!==e?e:""))}catch(e){console.error("Could not parse account:",e)}if(!t)return null;return(0,c.jsx)(b,{account:t});case"auction":let l=null;try{let e=JSON.parse(null!==(a=s.data)&&void 0!==a?a:"");l=p.e7.fromJSON(e)}catch(e){console.error("Could not parse auction:",e)}if(!l)return null;return(0,c.jsx)(y,{auction:l});case"search":return null}},[s])};var w=a(28144),_=a(41754),C=a(47468),S=a(5230),I=a(40469);let R=(0,v.PA)(e=>{var s;let a=(0,r.A)().currentLanguage,{t}=(0,w.B)(a),[i,o]=n.useState(e.searchResult);(0,n.useEffect)(()=>{o(e.searchResult)},[e.searchResult]);let d=async(e,s,a,c)=>{C.t.accountData&&await S.T.addSearchHistoryItem(e,s,a,c)};return(0,c.jsxs)("div",{className:"jsx-31f049a35d446cca result-root p-16 h-100",children:[(0,c.jsxs)("div",{className:"jsx-31f049a35d446cca ",children:[(0,c.jsx)("h4",{className:"jsx-31f049a35d446cca",children:t("home.auctions.auctions")}),0===i.auctions.length&&(0,c.jsx)("p",{className:"jsx-31f049a35d446cca secondary-color",children:t("home.search.no_auction_that_match")}),i.auctions.map(s=>(0,c.jsx)("div",{className:"jsx-31f049a35d446cca",children:(0,c.jsx)(y,{auction:s,onClick:()=>{d(_.a.auction,e.searchKey,JSON.stringify(s),s.id)}})},s.id))]}),(0,c.jsxs)("div",{className:"jsx-31f049a35d446cca  mt-20",children:[(0,c.jsx)("h4",{className:"jsx-31f049a35d446cca",children:t("home.search.users")}),0===i.accounts.length&&((null===(s=C.t.accountData)||void 0===s?void 0:s.id)?(0,c.jsx)("p",{className:"jsx-31f049a35d446cca secondary-color",children:t("home.search.no_users_that_match")}):(0,c.jsx)(I.g,{message:t("anonymous.login_to_search_accounts")})),i.accounts.map(s=>(0,c.jsx)("div",{className:"jsx-31f049a35d446cca",children:(0,c.jsx)(b,{account:s,onClick:()=>{let{id:a,name:c,email:t,picture:l}=s;d(_.a.account,e.searchKey,JSON.stringify({id:a,name:c,email:t,picture:l}),s.id)}})},s.id))]}),(0,c.jsx)(l(),{id:"31f049a35d446cca",children:".result-root.jsx-31f049a35d446cca{overflow-y:auto}"})]})});var z=a(13572);let J=e=>{var s,a;let t=(0,r.A)().currentLanguage,{t:o}=(0,i.Bd)(t),{searchResult:d}=e,h=null!==(s=C.t.accountData)&&void 0!==s?s:void 0,[u,x]=(0,n.useState)(e.historyItems);(0,n.useEffect)(()=>{x(e.historyItems)},[e.historyItems]);let f=(0,n.useMemo)(()=>(0,c.jsx)(N,{historyItems:u}),[u]);return d?(0,c.jsx)(R,{searchResult:d,searchKey:null!==(a=e.searchKey)&&void 0!==a?a:""}):(0,c.jsxs)("div",{className:"jsx-c40f44bfc4e1f2d1 search-menu",children:[(0,c.jsx)("h4",{className:"jsx-c40f44bfc4e1f2d1",children:o("home.search.recent_searches")}),C.t.loadingStates.searchHistoryItems?(0,c.jsx)("div",{className:"jsx-c40f44bfc4e1f2d1 loader-wrapper",children:(0,c.jsx)(z.I,{type:"loading",color:"#fff",size:40})}):u.length?f:(0,c.jsx)("div",{className:"jsx-c40f44bfc4e1f2d1 d-flex flex-column align-items-center justify-content-between ",children:h?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(z.I,{type:"logo",size:76}),(0,c.jsx)("span",{className:"jsx-c40f44bfc4e1f2d1 mt-20 p-16",children:o("home.search.search")})]}):(0,c.jsx)("div",{className:"jsx-c40f44bfc4e1f2d1",children:(0,c.jsx)(I.g,{message:o("anonymous.login_for_search_history")})})}),(0,c.jsx)(l(),{id:"c40f44bfc4e1f2d1",children:".search-menu.jsx-c40f44bfc4e1f2d1{padding:16px;z-index:99999;background:var(--background_1)}.loader-wrapper.jsx-c40f44bfc4e1f2d1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;min-height:120px}"})]})},O=J}}]);